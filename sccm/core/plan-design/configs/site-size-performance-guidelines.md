---
title: 사이트의 크기 조정과 성능 지침
titleSuffix: Configuration Manager
description: 사이트 크기 조정 관련 성능 테스트 결과, 방법론 및 지침
author: aczechowski
ms.author: aaroncz
ms.prod: configuration-manager
ms.topic: conceptual
ms.date: 04/23/2019
ms.openlocfilehash: f6374e6237d586bb995e701e5577bfc553a5a689
ms.sourcegitcommit: cab3dba5ebfe90f28cedee03c1840c9a395160cc
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 05/17/2019
ms.locfileid: "65849287"
---
# <a name="system-center-configuration-manager-site-size-and-performance-guidelines"></a>System Center Configuration Manager 사이트 크기 조정 및 성능 지침

*적용 대상: System Center Configuration Manager(현재 분기)*

System Center Configuration Manager는 확장성 및 성능에서 업계를 선도합니다. 최대 환경 크기로 사이트를 운영하기 위한 [최대 지원 확장성 한도](size-and-scale-numbers.md) 및 [하드웨어 지침](recommended-hardware.md)은 다른 설명서에서 다룹니다. 이 문서에서는 모든 크기의 환경에 대한 보완적인 성능 지침을 제공합니다. 이 지침을 통해 Configuration Manager를 배포하는 데 필요한 하드웨어를 더 정확하게 예측할 수 있습니다.

이 문서에서는 Configuration Manager 성능 병목 상태의 가장 큰 요인인 디스크 입력/출력 하위 시스템 또는 IOPS에 집중합니다. 문서:

- IOPS에 중점을 둔 세부 정보 및 테스트 결과 표시
- 고유한 환경 및 하드웨어를 사용하여 테스트를 재현하는 방법 문서화
- 다양한 크기의 환경에 대한 디스크 IOPS 요구 사항 제안 

## <a name="performance-test-methodology"></a>성능 테스트 방법론

많은 고유한 방법으로 Configuration Manager를 배포할 수 있지만 모든 크기 조정 논의에서 몇 가지 변수를 이해해야 합니다. 한 가지 변수는 *기능 간격*(예: 인벤토리 주기)입니다. 또 다른 변수는 사용자 수, 소프트웨어 배포 수 또는 시스템이 참조하거나 배포하는 다른 *개체 수*입니다. 성능 테스트에서는 *부하*의 일부로 이러한 변수를 적용합니다. 부하는 서로 다른 크기 환경의 프로덕션 배포를 사용하여 엔터프라이즈 고객에 대한 일반적인 비율로 개체를 생성합니다.

> [!NOTE] 
> 고객 원격 분석 데이터를 사용하여 대부분의 고객에게 가장 일반적인 시나리오, 구성 및 설정을 사용하여 현재 분기 빌드를 테스트할 수 있습니다. 이 문서의 권장 사항은 이러한 평균적인 대상을 기준으로 합니다. 실제로 겪는 경험은 현재 환경 크기와 구성에 따라 달라질 수 있습니다. 일반적으로 Configuration Manager에는 개체 및 간격에 대한 상식이 필요합니다. 단지 시스템의 모든 파일을 수집하거나 주기의 간격을 1분으로 설정할 수 있는 것만으로는 부족하기 때문입니다.

다음 섹션에서는 대기업의 처리 요구를 테스트 및 모델링할 때 사용하는 몇 가지 주요 설정과 구성을 강조합니다. 해당 지침을 통해 제안된 하드웨어 크기에 대한 기본적인 시스템 성능 기대치를 설정할 수 있습니다.

### <a name="feature-intervals-settings"></a>기능 간격 설정 
대부분의 테스트에서는 시스템의 주요 주기로 기본 간격을 사용하는 것이 좋습니다. 예를 들어 하드웨어 인벤토리 테스트는 기본값보다 더 큰 *.mof* 파일을 사용하여 주당 한 번 수행합니다. 일부 반복 기능 간격은 특히 하드웨어 및 소프트웨어 인벤토리 주기의 경우 환경의 성능 특성에 상당한 영향을 줄 수 있습니다. 데이터 수집에 대해 적극적인 기본 간격을 사용하는 환경에는 작업 증가에 직접 비례하는 대용량 하드웨어가 필요합니다. 예를 들어 데스크톱 클라이언트 수가 25,000인데 기본 간격보다 2배 더 빠른 하드웨어 인벤토리를 수집하려 한다고 가정합니다. 이 경우 사이트의 하드웨어 크기를 마치 클라이언트 수가 50,000인 것처럼 조정하고 시작하는 것이 좋습니다.

### <a name="objects"></a>개체 
테스트에는 대기업이 시스템에 사용하는 경향이 있는 개체의 *상한 평균*을 사용해야 합니다. 일반적인 값은 수십만 사용자 또는 시스템에 배포되는 수천 개의 컬렉션 및 애플리케이션입니다. 테스트는 이 한도에서 시스템의 *모든* 개체에 대해 동시에 실행해야 합니다. 많은 고객이 여러 기능을 이용하지만 일반적으로 이와 같은 상한에서 제품의 모든 기능을 사용하지는 않습니다. 모든 제품 기능을 사용하는 테스트는 시스템 전체 성능을 최고로 높이는 데 도움이 되며, 일부 고객이 평균보다 높게 사용할 수 있는 기능에 대한 버퍼를 확보할 수 있습니다. 

### <a name="loads"></a>부하 
또한 테스트는 시스템에 대한 최고 사용량 요구를 발생시키는 시뮬레이션을 수행하여 표준 *평균일* 부하보다 높은 부하에서 실행해야 합니다. 한 예로 화요일 패치 출시를 시뮬레이션하여 시스템이 해당 최고 작업일 동안 업데이트 규정 준수 데이터를 지체 없이 반환할 수 있는지 확인합니다. 또 다른 예로 맬웨어가 광범위하게 발생하는 기간 동안의 사이트 작업을 시뮬레이션하여 적시에 알림을 보내는지 그리고 응답이 가능한지 확인합니다. 배포된 권장 크기의 컴퓨터가 지정된 날에 적게 사용될 수 있지만 더 극단적인 상황에서는 어느 정도 처리 버퍼가 필요합니다.

### <a name="configurations"></a>구성
지원되는 운영 체제와 SQL Server 버전의 혼합을 사용하여 광범위한 실제, Hyper-V 및 Azure 하드웨어에 대해 테스트를 실행합니다. 항상 지원되는 구성에 대한 최악의 경우에 대해 유효성을 검사합니다. 일반적으로 Hyper-V 및 Azure의 성능 결과는 유사하게 구성된 동일한 실제 하드웨어와 유사합니다. 최신 서버 운영 체제의 성능은 구 버전의 지원되는 서버 운영 체제와 같거나 더 나은 경향이 있습니다. 모든 지원되는 플랫폼이 최소 요구 사항을 충족하지만 일반적으로 Windows 및 SQL과 같은 지원 제품의 최신 버전의 성능이 훨씬 더 낫습니다. 

가장 큰 변화는 사용 중인 SQL Server 버전에서 나옵니다. SQL Server 버전에 대한 자세한 내용은 [어떤 SQL 버전을 실행해야 하나요?](../../understand/site-size-performance-faq.md#what-version-of-sql-should-i-run)를 참조하세요. 

## <a name="key-performance-determinants"></a>주요 성능 결정자

다양한 설정을 서로 다른 방법과 서로 다른 사이트 크기로 사용하여 Configuration Manager 성능을 테스트 및 측정할 수 있습니다. 다음 설정 및 개체는 성능에 크게 영향을 줄 수 있습니다. 현재 환경에서 성능을 테스트 및 모델링할 때 이 점을 반드시 고려해야 합니다.

> [!CAUTION]
> 과도한 사용량을 방지하는 공식 최댓값 또는 사용자 인터페이스 한도가 있는 Configuration Manager의 특성은 거의 없지만 지침을 초과하면 사이트의 성능에 상당히 큰 부정적 영향을 줄 수 있습니다. 일반적으로 권장 수준을 초과하거나 크기 조정 지침을 무시하려면 더 큰 하드웨어가 필요하며 여러 개체의 빈도 또는 개수를 줄일 때까지 환경의 유지 관리가 불가능하게 될 수 있습니다.

### <a name="hardware-inventory"></a>하드웨어 인벤토리
기준선 성능을 테스트하려면 기본 *.mof* 파일 크기에 더하여 약 20%의 추가 속성을 사용하여 하드웨어 인벤토리 수집을 주당 한 번으로 설정합니다. 모든 속성을 사용하도록 설정하지 않고 실제로 필요한 속성만 수집합니다. *항상* *모든* 인벤토리 주기마다 변화하는 사용 가능한 가상 메모리와 같은 속성을 수집할 때에는 각별히 주의하세요. 이러한 속성을 수집하면 모든 클라이언트의 모든 인벤토리 주기에 과도한 변동이 발생할 수 있습니다.

### <a name="software-inventory"></a>소프트웨어 인벤토리
기준선 성능을 테스트하려면 *제품 전용* 세부 정보를 사용하여 소프트웨어 인벤토리 수집을 주당 한 번으로 설정합니다. 많은 파일을 수집하면 인벤토리 하위 시스템에 상당한 부담을 줄 수 있습니다. 많은 클라이언트에 걸쳐 수천 개의 파일을 수집하게 될 수 있는 필터를 지정하지 마십시오(예: *\*.exe* 또는 *\*.dll*).

### <a name="collections"></a>컬렉션
기준선 성능 테스트는 다양한 범위, 크기, 복잡성 및 업데이트 설정을 사용하는 수천 개의 컬렉션을 포함할 수 있습니다. 사이트 성능은 엄청난 수의 컬렉션이 사이트에 주는 직접적인 영향을 반영하지 않습니다. 또한 성능은 컬렉션의 쿼리 복잡성, 전체 및 증분 업데이트와 변경 빈도, 컬렉션 간의 종속성, 그리고 컬렉션의 클라이언트 수가 복합적으로 작용한 결과입니다.

가능하면 비용이 많이 들거나 복잡한 동적 규칙 쿼리를 포함하는 컬렉션을 최소화합니다. 이러한 유형의 규칙이 필요한 컬렉션에 대해서는 컬렉션 재평가가 시스템에 주는 영향을 최소화하기에 적합한 업데이트 간격 및 업데이트 시간을 설정합니다. 예를 들어 오전 8시에 업데이트하는 대신 자정에 업데이트합니다.

컬렉션에 대한 증분 업데이트를 사용하도록 설정하면 컬렉션 멤버를 빠르면서도 적시에 업데이트할 수 있습니다. 그러나 증분 업데이트가 효율적이라 하더라도 시스템에 부담을 주기는 마찬가지입니다. 예상하는 변경 빈도와 멤버를 거의 실시간으로 업데이트할 필요성 간에 균형을 유지하십시오. 예를 들어 컬렉션 멤버에 대해 많은 변동을 예상하지만 실시간에 가까운 멤버 업데이트는 필요하지 않은 경우를 가정하겠습니다. 이 경우 증분 업데이트를 사용하는 것보다 일정한 간격으로 예약된 전체 업데이트를 사용하여 컬렉션을 업데이트하면 더 효율적이고 시스템에 주는 부담도 적어집니다. 

증분 업데이트를 사용하는 경우 동일한 컬렉션에 대한 예약된 전체 업데이트를 줄입니다. 증분 업데이트는 컬렉션 멤버를 거의 실시간으로 업데이트해야 하므로 예비적인 평가 방법일 뿐입니다. [컬렉션 모범 사례](../../clients/manage/collections/best-practices-for-collections.md#do-not-use-incremental-updates-for-a-large-number-of-collections)는 증분 업데이트에 대해 최대 총 컬렉션 수를 추천하지만, 이 문서에서 지적하듯이 직접 겪는 경험은 많은 요인에 따라 달라질 수 있습니다.

직접 멤버 규칙만 적용하고 증분 업데이트를 수행하지 않는 컬렉션을 제한하는 컬렉션에는 예약된 전체 업데이트가 필요하지 않습니다. 시스템에 주는 불필요한 부담을 방지하려면 이러한 유형의 컬렉션에 대해 업데이트 일정을 사용하지 않도록 설정합니다. 제한된 컬렉션이 증분 업데이트를 사용하는 경우 직접 멤버 규칙만 적용하는 컬렉션은 최대 24시간 동안 또는 예약된 새로 고침이 일어날 때까지 멤버 업데이트를 반영하지 않을 수 있습니다.

모범 사레는 아니지만 일부 조직은 여러 비즈니스 프로세스의 일부로 수백 또는 심지어 수천 개의 컬렉션을 만듭니다. 자동화를 사용하여 컬렉션을 만드는 경우 모든 필요한 증분 업데이트를 정확하게 사용하도록 설정해야 합니다. 단일 기간 동안 컬렉션 평가가 집중되는 것을 방지하기 위해 전체 업데이트 일정을 최소화하고 분산시켜야 합니다. 특히 일정 시간 후에 더 이상 필요하지 않은 컬렉션을 자동으로 만드는 경우 정기 그루밍 프로세스를 설정하여 사용하지 않는 컬렉션을 삭제합니다.

Configuration Manager는 컬렉션의 모든 개체에 배포와 같은 작업을 대상으로 하는 경우 해당 개체에 대한 정책을 만든다는 것을 염두에 두세요. 예약된 새로 고침 또는 증분 업데이트를 통해 멤버가 변경되면 전체 시스템에 대해 많은 다른 작업을 만들 수 있습니다. 최신 현재 분기 빌드는 모든 시스템 및 모든 사용자 컬렉션에 대한 특별한 정책 최적화를 포함합니다. 전체 엔터프라이즈를 대상으로 하는 경우 이러한 기본 제공 컬렉션의 복제본 대신 기본 제공 컬렉션을 사용합니다.

수집 성능을 더 면밀히 조사하려면 [Configuration Manager 도구 키트](https://www.microsoft.com/download/details.aspx?id=50012)의 CEViewer(컬렉션 평가 뷰어)를 사용할 수 있습니다.

### <a name="discovery-methods"></a>검색 방법
기준선 성능 테스트의 경우 서버 기반 검색 방법을 주 1회 실행하여 한 주 동안 데이터를 최신의 상태로 유지하기에 적합하게 델타 검색을 사용하도록 설정합니다. 그러면 테스트에서 시뮬레이션된 엔터프라이즈 크기에 비례하는 개체 양을 검색할 것입니다. 하트비트 검색에 대한 성능 기준선 테스트도 주 1회 실행하는 것이 좋습니다.

검색 데이터는 전역 데이터입니다. 일반적인 성능 관련 문제는 계층의 서버 기반 검색 방법을 잘못 구성하여 여러 기본 사이트에서 동일한 리소스를 중복 검색하는 것입니다. 대상 서비스(예: Active Directory 도메인 컨트롤러)와의 통신을 최적화하면서 여러 기본 사이트에 대해 동일한 검색 범위를 중복하지 않도록 검색 방법을 주의 깊게 구성합니다.

## <a name="general-sizing-guidelines"></a>일반적인 크기 조정 지침 

앞에서 설명한 [성능 테스트 방법론](#performance-test-methodology)을 기반으로 다음 테이블은 특정 수의 관리형 클라이언트에 대한 일반적인 *최소* 하드웨어 요구 사항 지침을 제공합니다. 해당 값을 사용하면 지정된 수의 클라이언트를 가진 대부분의 고객이 지정된 사이트를 관리하기에 충분히 빠르게 개체를 처리할 수 있습니다. 컴퓨팅 처리 능력의 가격이 매년 계속 감소하고 있어 아래 요구사항 중 일부는 최신 서버 하드웨어 구성을 기준으로 보면 작습니다. 다음 지침을 초과하는 하드웨어의 경우 추가 처리 능력이 필요하거나 특수한 제품 사용 패턴이 있는 사이트에 대한 성능을 비례적으로 증가시킵니다. 

| 데스크톱 클라이언트  | 사이트 유형/역할  | 코어 수<sup>1</sup>   | 메모리(GB)   | SQL 메모리 할당  | IOPS:  받은 편지함 수<sup>2</sup>  | IOPS: SQL<sup>2</sup>   | 필요한 스토리지 공간(GB)<sup>3</sup>   |
|------|-------------------------------------------------------------|-----|-----|-----|------|------|------|
| 25k  | 동일한 서버에 데이터베이스 사이트 역할을 가진 기본 또는 CAS   | 6   | 24  | 65% | 600  | 1700 | 350  |
| 25k  | 기본 또는 CAS                                              | 4   | 8   |     | 600  |      | 100  |
|      | 원격 SQL                                                  | 4   | 16  | 70% |      | 1700 | 250  |
|      |                                                             |     |     |     |      |      |      |
| 50k  | 동일한 서버에 데이터베이스 사이트 역할을 가진 기본 또는 CAS   | 8   | 32  | 70% | 1200 | 2800 | 600  |
| 50k  | 기본 또는 CAS                                              | 4   | 8   |     | 1200 |      | 200  |
|      | 원격 SQL                                                  | 8   | 24  | 70% |      | 2800 | 400  |
|      |                                                             |     |     |     |      |      |      |
| 100k | 동일한 서버에 데이터베이스 사이트 역할을 가진 기본 또는 CAS   | 12  | 64개  | 70% | 1200 | 5000 | 1100 |
| 100k | 기본 또는 CAS                                              | 6   | 12  |     | 1200 |      | 300  |
|      | 원격 SQL                                                  | 12  | 48  | 80% |      | 5000 | 800  |
|      |                                                             |     |     |     |      |      |      |
| 150k | 동일한 서버에 데이터베이스 사이트 역할을 가진 기본 또는 CAS   | 16  | 96  | 70% | 1800 | 7400 | 1600 |
| 150k | 기본 또는 CAS                                   | 8   | 16   |     | 1800  |         | 400   |
|      | 원격 SQL                                       | 16  | 72   | 90% |       | 7400    | 1200  |
|      |                                                             |     |     |     |      |      |      |
| 700k | 동일한 서버에 데이터베이스 사이트 역할을 가진 CAS   | 20+ | 128+ | 80% | 1800+ | 9000+   | 5000+ |
| 700k | CAS                                              | 8+  | 16+  |     | 1800+ |         | 500+  |
|      | 원격 SQL                                       | 16+ | 96+  | 90% |       | 9000+   | 4500+ |
|      |                                                             |     |     |     |      |      |      |
| 5k   | 보조 사이트                                   | 4   | 8    |     | 500   | -       | 200   |
| 15k  | 보조 사이트                                   | 8   | 16   |     | 500   | -       | 300   |

**참고**

1. **코어 수**: Configuration Manager는 많은 동시 프로세스를 수행하므로 여러 사이트 크기에 대해 특정 최소 CPU 코어 수가 필요합니다. 코어는 매년 더 빨라지고 있지만 특정 최소 수의 코어가 병렬로 작동하도록 해야 합니다. 일반적으로 2015년 후에 생산된 모든 서버 수준 CPU는 위 테이블에 지정한 코어 수에 대한 기본적인 성능 요구를 충족합니다. Configuration Manager는 권장 사항보다 많은 추가 코어를 이용하지만 일반적으로 최소 권장 코어를 보유하고 있으면 더 느린 코어를 더 많이 추가하지 말고 기존 코어의 속도를 높이는 CPU 리소스 투자를 우선적으로 고려해야 합니다. 예를 들어 Configuration Manager는 디스크 IOPS와 같은 사용 가능한 다른 시스템 리소스가 충분하다고 가정하면 24개의 느린 코어보다 16개의 더 빠른 코어로 주요 처리 작업을 수행할 때 성능이 더 좋습니다.
   
   코어 수와 메모리 간의 관계도 중요합니다. 일반적으로 코어당 RAM이 3 ~ 4GB보다 작으면 SQL 서버의 총 처리 용량이 감소합니다. SQL이 사이트 서버 구성 요소와 공동 배치된 경우 코어당 RAM이 더 많이 필요합니다.
   
   > [!NOTE]
   > 모든 테스트는 최대 CPU 처리 능력 사용과 성능을 달성하도록 컴퓨터 처리 능력 게획을 설정합니다.
   
2. **IOPS: 받은 편지함 수 및 IOPS: SQL**은 Configuration Manager 및 SQL 논리 드라이브에 대한 IOPS 요구를 가리킵니다. **IOPS: 받은 편지함 수** 열은 Configuration Manager 받은 편지함 디렉터리가 있는 논리 드라이브에 대한 IOPS 요구 사항을 나타냅니다. **IOPS: SQL** 열은 여러 SQL 파일이 사용하는 논리 드라이브에 대한 총 IOPS 요구를 나타냅니다. 이러한 열은 두 드라이브의 포맷이 서로 달라야 하기 때문에 서로 다릅니다. 여러 볼륨에 걸쳐 파일 분할에 대한 세부 정보를 포함하여 권장 SQL 디스크 구성 및 파일 모범 사례에 대한 자세한 정보와 예제는 [사이트 크기 조정 및 성능 FAQ](../../understand/site-size-performance-faq.md)를 참조하세요.
   
   두 IOPS 열 모두 업계 표준 도구인 *Diskspd*의 데이터를 사용합니다. 이 측정값의 복제 지침은 [디스크 성능 측정 방법](#how-to-measure-disk-performance)을 참조하세요. 일반적으로 기본 CPU 및 메모리 요구 사항을 충족한 후에는 스토리지 하위 시스템이 사이트 성능에 가장 큰 영향을 주며 이 부분이 개선되면 가장 큰 투자 수익률을 얻습니다.
   
3.  **필요한 스토리지 공간:** 이러한 실제 값은 다른 문서화된 권장 사항과 다를 수 있습니다. 여기서는 이 수를 일반적인 지침으로만 제공하며, 개별 요구 사항은 크게 달라질 수 있습니다. 사이트 설치 전에 디스크 공간 요구에 적합하도록 주의 깊게 계획합니다. 이 스토리지 양 중 일부가 대부분의 시간 동안 사용 가능한 디스크 공간으로 유지된다고 가정합니다. 이 버퍼 공간을 복구 시나리오 또는 설정 패키지 확장을 위해 사용 가능한 디스크 공간이 필요한 업그레이드 시나리오에 사용할 수 있습니다. 현재 사이트에 대량의 데이터 수집, 장기간의 데이터 보존 및 대량의 소프트웨어 배포 콘텐츠를 위한 추가 스토리지가 필요할 수 있습니다. 또한 해당 항목을 처리량이 낮은 별도의 볼륨에 저장할 수도 있습니다.

## <a name="how-to-measure-disk-performance"></a>디스크 성능 측정 방법 

업계 표준 도구인 *Diskspd*를 사용하여 여러 크기의 Configuration Manager 환경에 필요한 표준화된 IOPS 제안을 제공할 수 있습니다. 모든 사항을 포함하지는 않았지만 다음 테스트 단계 및 명령줄은 서버의 디스크 하위 시스템 처리량을 예측하는 간단하면서도 재현 가능한 방법을 제공합니다. 이 테스트의 결과를 [일반적인 크기 조정 지침](#general-sizing-guidelines) 테이블의 최소 권장 IOPS와 비교할 수 있습니다. 

실험실 환경의 다양한 하드웨어 구성에서 얻은 테스트 결과는 [예제 디스크 구성](#example-disk-configurations)을 참조하세요. 새 환경에 적합한 스토리지 하위 시스템을 처음부터 디자인하는 경우 이 데이터를 대략적인 시작점으로 사용할 수 있습니다.

### <a name="to-test-disk-iops"></a>디스크 IOPS를 테스트하려면 다음을 수행합니다.  
1. [https://gallery.technet.microsoft.com/DiskSpd-A-Robust-Storage-6ef84e62](https://gallery.technet.microsoft.com/DiskSpd-A-Robust-Storage-6ef84e62)에서 *Diskspd* 유틸리티를 다운로드합니다.
   
1. 최소 100GB의 사용 가능한 디스크 공간이 있는지 확인합니다. 디스크에 방해가 되거나 추가적인 부하를 발생시킬 수 있는 앱(예: 디렉터리에 대한 활성 바이러스 백신 검색, SQL 또는 SMSExec)을 사용하지 않도록 설정합니다.
   
1. 관리자 권한 명령 프롬프트에서 *Diskspd*를 실행합니다. 
   
   테스트하려는 볼륨 순서대로 도구를 두 번 실행합니다. 첫 번째 테스트는 1분 동안 64k 크기의 임의 쓰기 작업을 수행합니다. 이 테스트는 볼륨이 동적으로 확장하는 경우 컨트롤러 캐시 로드 및 디스크 공간 할당을 확인합니다. 첫 번째 테스트의 결과를 삭제합니다. 두 번째 테스트는 첫 번째 테스트 직후에 *즉시* 수행해야 하며 5분 동안 동일한 부하를 수행합니다.
   
   예를 들어 다음과 같은 특정 명령줄을 사용하여 G:\\ 볼륨을 테스트합니다.
   
   `DiskSpd.exe -r -w100 -t8 -o8 -b64K -c100G -d60 -h -L G:\\test\testfile.dat` 
   
   `del G:\\test\testfile.dat`
   
   `DiskSpd.exe -r -w100 -t8 -o8 -b64K -c100G -d300 -h -L G:\\test\testfile.dat`
   
1. 두 번째 테스트의 출력을 검토하여 **초당 I/O** 열의 총 IOPS를 찾습니다. 다음 예제에서 총 IOPS는 **3929.18**입니다.
   
   ```
   Total IO
   | thread |  bytes      |  I/Os   |  MB/s  | I/O per s | AvgLat | LatStdDev |
   |--------|-------------|---------|--------|-----------|--------|-----------| 
   |   1    |  9651814400 |  147275 |  30.68 |    490.92 | 16.294 | 10.210    | 
   |   2    |  9676652544 |  147654 |  30.76 |    492.18 | 16.252 |  9.998    |
   |   3    |  9638248448 |  147068 |  30.64 |    490.23 | 16.317 | 10.295    |
   |   4    |  9686089728 |  147798 |  30.79 |    492.66 | 16.236 | 10.072    | 
   |   5    |  9590931456 |  146346 |  30.49 |    487.82 | 16.398 | 10.384    | 
   |   6    |  9677242368 |  147663 |  30.76 |    492.21 | 16.251 | 10.067    |
   |   7    |  9637330944 |  147054 |  30.64 |    490.18 | 16.319 | 10.249    | 
   |   8    |  9692577792 |  147897 |  30.81 |    492.99 | 16.225 | 10.125    | 
   | Total: | 77250887680 | 1178755 | 245.57 |   3929.18 | 16.286 | 10.176    |
   ```

## <a name="example-disk-configurations"></a>예제 디스크 구성

다음 테이블은 여러 테스트 실험실 구성을 사용하여 [디스크 성능을 측정하는 방법](#how-to-measure-disk-performance)의 테스트 단계를 실행한 결과를 나타냅니다. 새 환경에 적합한 스토리지 하위 시스템을 처음부터 디자인하는 경우 이 데이터를 *대략적인* 시작점으로 사용합니다. 

### <a name="physical-machines-and-hyper-v"></a>물리적 컴퓨터 및 Hyper-V 
하드웨어는 항상 개선되고 있습니다. 최신 세대의 하드웨어 및 다양한 하드웨어 조합(예: SSD와 SAN)은 아래에 명시한 성능을 초과할 것으로 예상합니다. 이 결과는 서버를 디자인하거나 하드웨어 공급업체와 논의할 때 고려해야 할 기본적인 시작점입니다.

다음 테이블은 여러 테스트 실험실 구성의 스핀들 및 SSD 기반 하드 드라이브를 포함하여 여러 디스크 하위 시스템에 걸친 테스트 결과를 나타냅니다. 모든 구성은 64k 클러스터로 디스크를 포맷하고 해당 디스크를 엔터프라이즈급 디스크 컨트롤러에 연결합니다. RAID 배열 디스크 수에 더하여 각 디스크에 하나 이상의 예비 디스크가 있습니다.

| 디스크 유형   | 디스크 수, +1개 예비 디스크 제외 | RAID     | 측정된 IOPS  |
|------------------|----------------------------------------------------|---------------|---------------|
| 15k SAS          | 2                                                  |           1   | 620           |
| 15k SAS          | 4                                                  |           10  | 1206          |
| 15k SAS          | 6                                                  |           10  | 1751          |
| 15k SAS          | 8                                                  |           10  | 2322          |
| 15k SAS          | 10                                                 |           10  | 2882          |
| 15k SAS          | 12                                                 |           10  | 3476          |
| 15k SAS          | 16                                                 |           10  | 4236          |
| 15k SAS          | 20                                                 |           10  | 5148          |
| 15k SAS          | 30                                                 |           10  | 7398          |
| 15k SAS          | 40                                                 |           10  | 9913          |
| SSD SATA         | 2                                                  |           1   | 3300          |
| SSD SATA         | 4                                                  |           10  | 5542          |
| SSD SATA         | 6                                                  |           10  | 7201          |
| SSD SAS          | 2                                                  |           1   | 7539          |
| SSD SAS          | 4                                                  |           10  | 14346         |
| SSD SAS          | 6                                                  |           10  | 15607         |

이들은 예제에 사용한 디바이스입니다. 이 정보는 모든 특정 하드웨어 모델 또는 제조업체에 대해 권장되는 것이 아닙니다. 

| 디스크 유형    | 모델      | RAID 컨트롤러 | 캐시 메모리 및 구성 |
|-------------------|-----------------|----------------------|-------------------------------------|
| 15k RPM SAS HD    | HP EH0300JDYTH  | 스마트 배열 P822     | 2GB, 20% 읽기 / 80% 쓰기           |
| SSD SATA          | ATA MK0200GCTYV | 스마트 배열 P420i    | 1GB, 20% 읽기 / 80% 쓰기           |
| SSD SAS           | HP MO0800 JEFPB | 스마트 배열 P420i    | 1GB, 20% 읽기 / 80% 쓰기           |

### <a name="azure-machine-and-disk-performance"></a>Azure 컴퓨터 및 디스크 성능 
Azure 디스크 성능은 Azure VM의 크기 및 사용하는 디스크 수와 유형 등 여러 요인에 따라 달라집니다. 또한 Azure는 새 컴퓨터 유형 및 다음 차트와 다른 디스크 속도를 지속적으로 추가하고 있습니다. Azure에서 실행하는 Configuration Manager에 대한 자세한 내용 및 Azure의 디스크 I/O 이해에 대한 추가 정보는 [Azure의 Configuration Manager 질문과 대답](../../understand/configuration-manager-on-azure.md)을 참조하세요.

모든 디스크는 NTFS 64k 클러스터 크기로 포맷되며 디스크가 2개 이상인 행은 Windows 디스크 관리 유틸리티를 통해 스트라이프된 볼륨으로 구성됩니다.

| Azure VM| Azure 디스크| 디스크 수 | 사용 가능한 공간 | 측정된 IOPS   | 제한 요인   |
|--------------------------------------------|-------------------------|---------------------|---------------------------|-------|-----------------|
| **DS2/DS11**                              | P20                     | 1                   | 512MB                    | 965   | Azure VM 크기   |
| **DS2/DS11**                              | P20                     | 2                   | 1024 MB                   | 996   | Azure VM 크기   |
| **DS2/DS11**                              | P30                     | 1                   | 1024 MB                   | 996   | Azure VM 크기   |
| **DS2/DS11**                              | P30                     | 2                   | 2048 MB                   | 996   | Azure VM 크기   |
| **DS3/DS12/F4S**                          | P20                     | 1                   | 512MB                    | 1994  | Azure VM 크기   |
| **DS3/DS12/F4S**                          | P20                     | 2                   | 1024 MB                   | 1992  | Azure VM 크기   |
| **DS3/DS12/F4S**                          | P30                     | 1                   | 1024 MB                   | 1993  | Azure VM 크기   |
| **DS3/DS12/F4S**                          | P30                     | 2                   | 2048 MB                   | 1992  | Azure VM 크기   |
| **DS4/DS13/F8S**                          | P20                     | 1                   | 512MB                    | 2334  | P20 디스크        |
| **DS4/DS13/F8S**                          | P20                     | 2                   | 1024 MB                   | 3984  | Azure VM 크기   |
| **DS4/DS13/F8S**                          | P20                     | 3                   | 1536 MB                   | 3984  | Azure VM 크기   |
| **DS4/DS13/F8S**                          | P30                     | 1                   | 1024 MB                   | 3112  | P30 디스크        |
| **DS4/DS13/F8S**                          | P30                     | 2                   | 2048 MB                   | 3984  | Azure VM 크기   |
| **DS4/DS13/F8S**                          | P30                     | 3                   | 3072 MB                   | 3996  | Azure VM 크기   |
| **DS5/DS14/F16S**                         | P20                     | 1                   | 512MB                    | 2335  | P20 디스크        |
| **DS5/DS14/F16S**                         | P20                     | 2                   | 1024 MB                   | 4639  | P20 디스크        |
| **DS5/DS14/F16S**                         | P20                     | 3                   | 1536 MB                   | 6913  | P20 디스크        |
| **DS5/DS14/F16S**                         | P20                     | 4                   | 2048 MB                   | 7966  | Azure VM 크기   |
| **DS5/DS14/F16S**                         | P30                     | 1                   | 1024 MB                   | 3112  | P30 디스크        |
| **DS5/DS14/F16S**                         | P30                     | 2                   | 2048 MB                   | 6182  | P30 디스크        |
| **DS5/DS14/F16S**                         | P30                     | 3                   | 3072 MB                   | 7963  | Azure VM 크기   |
| **DS5/DS14/F16S**                         | P30                     | 4                   | 4096 MB                   | 7968  | Azure VM 크기   |
| **DS15**                                  | P30                     | 1                   | 1024 MB                   | 3113  | P30 디스크        |
| **DS15**                                  | P30                     | 2                   | 2048 MB                   | 6184  | P30 디스크        |
| **DS15**                                  | P30                     | 3                   | 3072 MB                   | 9225  | P30 디스크        |
| **DS15**                                  | P30                     | 4                   | 4096 MB                   | 10200 | Azure VM 크기   |

## <a name="see-also"></a>참고 항목

- [사이트 크기 조정 및 성능 FAQ](../../understand/site-size-performance-faq.md)
- [Azure의 Configuration Manager 질문과 대답](../../understand/configuration-manager-on-azure.md)
- [크기 조정 및 규모 숫자 값](size-and-scale-numbers.md)
- [권장 하드웨어](recommended-hardware.md)

