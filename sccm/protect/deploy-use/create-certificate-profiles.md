---
title: SCEP 인증서 프로필 만들기
titleSuffix: Configuration Manager
description: 인증서 프로필을 사용하면 필요한 인증서로 관리 디바이스를 프로비저닝할 수 있습니다.
ms.date: 11/29/2019
ms.prod: configuration-manager
ms.technology: configmgr-protect
ms.topic: conceptual
ms.assetid: 634d612c-92d7-4c03-873a-b2e730c9a72d
author: mestew
ms.author: mstewart
manager: dougeby
ms.openlocfilehash: fe0be3f57f5842405f614b7227a534f27b39b115
ms.sourcegitcommit: 148745e1c3d9817d8beea20684a54436210959c6
ms.translationtype: MTE75
ms.contentlocale: ko-KR
ms.lasthandoff: 01/09/2020
ms.locfileid: "75820579"
---
# <a name="create-certificate-profiles"></a>인증서 프로필 만들기

*적용 대상: Configuration Manager(현재 분기)*

Configuration Manager에서 인증서 프로필을 사용하여 관리되는 디바이스를 회사 리소스에 액세스하는 데 필요한 인증서로 프로비전할 수 있습니다. 인증서 프로필을 만들기 전에 [인증서 인프라 설정](/configmgr/protect/deploy-use/certificate-infrastructure)에 설명된 대로 인증서 인프라를 설정합니다.  

> [!TIP]
> 공동 관리 되는 장치의 경우 [ **리소스 액세스 정책** 워크 로드](/configmgr/comanage/workloads#resource-access-policies) 를 Intune으로 이동 하는 것이 좋습니다. 그런 다음 Intune 정책을 사용 하 여 이러한 인증서를 관리 합니다. 자세한 내용은 [워크로드를 전환하는 방법을](/configmgr/comanage/how-to-switch-workloads)을 참조하세요.

이 문서에서는 SCEP (신뢰할 수 있는 루트 및 단순 인증서 등록 프로토콜) 인증서 프로필을 만드는 방법을 설명 합니다. PFX 인증서 프로필을 만들려는 경우 [PFX 인증서 프로필 만들기](/configmgr/mdm/deploy-use/create-pfx-certificate-profiles)를 참조하세요.

인증서 프로필을 만들려면

1. 인증서 프로필 만들기 마법사를 시작합니다.
1. 인증서에 대한 일반 정보를 제공합니다.
1. 신뢰할 수 있는 CA(인증 기관) 인증서를 구성합니다.  
1. SCEP 인증서 정보 구성  
1. 인증서 프로필에 대해 지원되는 플랫폼을 지정합니다.

## <a name="start-the-wizard"></a>마법사 시작  

인증서 프로필 만들기 마법사를 시작하려면 다음 작업을 수행합니다.

1. Configuration Manager 콘솔에서 **자산 및 규정 준수** 작업 영역으로 이동하여 **규정 준수 설정**, **회사 리소스 액세스**를 차례로 확장하고 **인증서 프로필** 노드를 선택합니다.  

1. 리본의 **홈** 탭에 있는 **만들기** 그룹에서 **인증서 프로필 만들기**를 선택합니다.  

## <a name="general"></a>일반

인증서 프로필 만들기 마법사의 **일반** 페이지에서 다음 정보를 지정합니다.  

- **이름**: 인증서 프로필의 고유한 이름을 입력합니다. 최대 256자까지 사용할 수 있습니다.  

- **설명**: 인증서 프로필에 대 한 개요를 제공 하는 설명을 제공 합니다. 또한 Configuration Manager 콘솔에서 식별 하는 데 도움이 되는 기타 관련 정보를 포함 합니다. 최대 256자까지 사용할 수 있습니다.  

- 만들려는 인증서 프로필 유형 지정:

  - **신뢰할 수 있는 CA 인증서**: 사용자 또는 디바이스가 다른 디바이스를 인증해야 할 때 신뢰할 수 있는 CA(인증 기관) 또는 중간 CA 인증서를 배포하여 신뢰의 인증서 체인을 형성하려는 경우 이 유형을 선택합니다. 예를 들어 디바이스가 RADIUS(Remote Authentication Dial-In User Service) 서버 또는 VPN(가상 프라이빗 네트워크) 서버일 수 있습니다.
  
    또한 SCEP 인증서 프로필을 만들려면 먼저 신뢰할 수 있는 CA 인증서 프로필을 구성합니다. 이 경우 사용자 또는 장치에 인증서를 발급 하는 CA에 대해 신뢰할 수 있는 CA 인증서가 있어야 합니다.  

  - **SCEP(단순 인증서 등록 프로토콜) 설정**: 단순 인증서 등록 프로토콜 및 네트워크 디바이스 등록 서비스(NDES) 역할 서비스를 사용하여 디바이스 또는 사용자의 인증서를 요청하려면 이 유형을 선택합니다.

  - **개인 정보 교환 PKCS #12(PFX) 설정 – 가져오기**: PFX 인증서를 가져오려면 이 옵션을 선택합니다. 자세한 내용은 [PFX 인증서 프로필 가져오기](/configmgr/mdm/deploy-use/import-pfx-certificate-profiles)를 참조하세요.

  - **개인 정보 교환 PKCS #12(PFX) 설정 – 만들기**: 인증 기관을 사용하여 PFX 인증서를 처리하려면 이 옵션을 선택합니다. 자세한 내용은 [PFX 인증서 프로필 만들기](/configmgr/mdm/deploy-use/create-pfx-certificate-profiles)를 참조하세요.

## <a name="trusted-ca-certificate"></a>신뢰할 수 있는 CA 인증서  

> [!IMPORTANT]  
> SCEP 인증서 프로필을 만들려면 먼저 신뢰할 수 있는 CA 인증서 프로필을 하나 이상 구성합니다.
>
> 인증서가 배포된 후 이 값을 하나라도 변경하면 새 인증서가 요청됩니다.
>
> - 키 스토리지 공급자
> - 인증서 템플릿 이름
> - 인증서 종류
> - 주체 이름 형식
> - 주체 대체 이름
> - 인증서 유효 기간
> - 키 사용
> - 키 크기
> - 확장 키 사용
> - 루트 CA 인증서

1. 인증서 프로필 만들기 마법사의 **신뢰할 수 있는 CA 인증서** 페이지에서 다음 정보를 지정합니다.  

    - **인증서 파일**: **가져오기**를 선택한 다음 인증서 파일을 찾습니다.  

    - **대상 저장소**: 디바이스에 둘 이상의 인증서 저장소가 있는 경우 인증서를 저장할 장소를 선택합니다. 디바이스에 저장소가 하나만 있는 경우 이 설정은 무시됩니다.  

2. **인증서 지문** 값을 사용하여 올바른 인증서를 가져왔는지 확인합니다.  

## <a name="scep-certificates"></a>SCEP 인증서

### <a name="1-scep-servers"></a>1. SCEP 서버

인증서 프로필 만들기 마법사의 **SCEP 서버** 페이지에서 SCEP를 통해 인증서를 발급할 NDES 서버의 URL을 지정합니다. 인증서 등록 지점의 구성에 따라 NDES URL을 자동으로 지정하거나 URL을 수동으로 추가할 수 있습니다.  

### <a name="2-scep-enrollment"></a>2. SCEP 등록

인증서 프로필 만들기 마법사의 **SCEP 등록** 페이지를 완료합니다.

- 다시 **시도**: 장치가 NDES 서버에 대 한 인증서 요청을 자동으로 다시 시도 하는 횟수를 지정 합니다. 이 설정을 사용하면 인증서를 허용하기 위해 CA 관리자가 인증서 요청을 승인해야 하는 시나리오가 지원됩니다. 이 설정은 일반적으로 보안 수준이 높은 환경 또는 엔터프라이즈 CA가 아닌 독립 실행형 발급 CA가 있는 경우에 사용됩니다. 또한 테스트 목적의 경우 발급 CA가 인증서 요청을 처리하기 전에 인증서 요청 옵션을 검사할 수 있도록 이 설정을 사용해야 합니다. 이 설정은 **다시 시도 지연 시간(분)** 설정과 함께 사용합니다.  

- **다시 시도 지연 시간(분)** : 발급 CA가 인증서 요청을 처리하기 전에 CA 관리자 승인을 사용하는 경우 각 등록 시도 간의 간격을 분으로 지정합니다. 테스트 목적으로 관리자 승인을 사용 하는 경우 하위 값을 지정 합니다. 그런 다음 요청을 승인한 후 장치가 인증서 요청을 다시 시도할 때까지 오랜 시간을 기다리지 않습니다.

    프로덕션 네트워크에서 관리자 승인을 사용 하는 경우 더 높은 값을 지정 합니다. 이 동작은 CA 관리자가 보류 중인 승인을 승인 하거나 거부할 수 있는 충분 한 시간을 허용 합니다.  

- **갱신 임계값(%)** : 디바이스에서 인증서 갱신을 요청하기 전까지 남은 인증서 수명을 백분율로 지정합니다.  

- **KSP(키 스토리지 공급자)** : 인증서에 대한 키를 저장할 위치를 지정합니다. 다음 값 중 하나를 선택합니다.  

  - **있는 경우 TPM(신뢰할 수 있는 플랫폼 모듈)에 설치**: TPM에 키를 설치합니다. TPM이 없는 경우 키는 소프트웨어 키의 스토리지 공급자에 설치됩니다.  

  - **TPM(신뢰할 수 있는 플랫폼 모듈)에 설치, 그렇지 않으면 실패**: TPM에 키를 설치합니다. TPM 모듈이 없는 경우 설치에 실패 합니다.  

  - **비즈니스용 Windows Hello에 설치, 그러지 않으면 실패**: 이 옵션은 Windows 10 디바이스에 사용할 수 있습니다. 이를 통해 multi-factor authentication으로 보호 되는 비즈니스용 Windows Hello 스토어에 인증서를 저장할 수 있습니다. 자세한 내용은 [비즈니스용 Windows Hello](https://docs.microsoft.com/windows/security/identity-protection/hello-for-business/hello-identity-verification)를 참조하세요.

    > [!NOTE]  
    > 이 옵션은 인증서 속성 페이지에서 확장 된 키 사용에 대 한 스마트 카드 로그온을 지원 하지 않습니다.

  - **소프트웨어 키 스토리지 공급자에 설치**: 소프트웨어 키의 저장소 공급자에 키를 설치합니다.  

- **인증서 등록을 위한 장치**: 인증서 프로필을 사용자 컬렉션에 배포 하는 경우 사용자의 기본 장치 또는 사용자가 로그인 하는 모든 장치에 대해서만 인증서 등록을 허용 합니다.

    인증서 프로필을 장치 컬렉션에 배포 하는 경우 장치의 기본 사용자 또는 장치에 로그인 하는 모든 사용자에 대해서만 인증서 등록을 허용 합니다.  

### <a name="3-certificate-properties"></a>3. 인증서 속성

인증서 프로필 만들기 마법사의 **인증서 속성** 페이지에서 다음 정보를 지정합니다.  

- **인증서 템플릿 이름**: NDES에서 구성 되 고 발급 CA에 추가 된 인증서 템플릿의 이름을 선택 합니다. 인증서 템플릿을 성공적으로 찾아보려면 사용자 계정에 인증서 템플릿에 대 한 **읽기** 권한이 있어야 합니다. 인증서를 **찾을** 수 없는 경우 해당 이름을 입력 합니다.  

  > [!IMPORTANT]
  > 인증서 템플릿 이름에 비 ASCII 문자가 포함 되어 있으면 인증서가 배포 되지 않습니다. 이러한 문자의 한 가지 예는 중국어 알파벳입니다. 인증서가 배포 되었는지 확인 하려면 먼저 CA에서 인증서 템플릿의 복사본을 만듭니다. 그런 다음 ASCII 문자를 사용 하 여 복사본의 이름을 바꿉니다.  

  - *이동*하여 인증서 템플릿의 이름을 선택하는 경우 페이지의 일부 필드가 인증서 템플릿에서 자동으로 채워집니다. 일부 경우에 다른 인증서 템플릿을 선택하지 않으면 이러한 값을 변경할 수 없습니다.  

  - 인증서 템플릿의 이름을 *입력* 하는 경우 이름이 인증서 템플릿 중 하 나와 정확 하 게 일치 하는지 확인 합니다. NDES 서버의 레지스트리에 나열 된 이름과 일치 해야 합니다. 또한 인증서 템플릿의 표시 이름이 아닌, 인증서 템플릿 이름을 지정했는지 확인합니다.  

    인증서 템플릿의 이름을 찾으려면 다음과 같은 레지스트리 키를 찾습니다. `HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Cryptography\MSCEP`. 인증서 템플릿이 **EncryptionTemplate**, **GeneralPurposeTemplate** 및 **SignatureTemplate**의 값으로 나열됩니다. 기본적으로 모든 세 인증서 템플릿의 값은 **IPSECIntermediateOffline**이며, 이는 **IPSec(오프라인 요청)** 라는 템플릿 표시 이름으로 매핑됩니다.  

    > [!WARNING]  
    > 인증서 템플릿의 이름을 입력 하면 Configuration Manager 인증서 템플릿의 내용을 확인할 수 없습니다. 인증서 템플릿이 지원 하지 않는 옵션을 선택할 수 있으며,이로 인해 인증서 요청이 실패할 수 있습니다. 이 동작이 발생하는 경우 CPR.log 파일에서 CSR(인증서 서명 요청)의 템플릿 이름과 인증 질문이 일치하지 않는다는 w3wp.exe 관련 오류 메시지가 나타납니다.  
    >
    > **GeneralPurposeTemplate** 값에 지정된 인증서 템플릿의 이름을 입력하면 해당 인증서 프로필에 대해 **키 암호화** 및 **디지털 서명** 옵션을 선택합니다. 이 인증서 프로필에서 **키 암호화** 옵션만 사용하도록 설정하려는 경우 **EncryptionTemplate** 키의 인증서 템플릿 이름을 지정해야 합니다. 마찬가지로 이 인증서 프로필에서 **디지털 서명** 옵션만 사용하도록 설정하려는 경우 **SignatureTemplate** 키의 인증서 템플릿 이름을 지정해야 합니다.  

- **인증서 유형**: 인증서를 장치에 배포할지 아니면 사용자에 게 배포할지를 선택 합니다.  

- **주체 이름 형식**: 인증서 요청 시 Configuration Manager에서 자동으로 주체 이름을 만드는 방식을 선택합니다. 사용자용 인증서인 경우 주체 이름에 사용자의 전자 메일 주소를 포함할 수도 있습니다.

    > [!NOTE]  
    > **IMEI 번호** 또는 **일련 번호**를 선택하면 동일한 사용자가 소유한 여러 디바이스를 구분할 수 있습니다. 예를 들어 해당 디바이스는 일반 이름을 공유할 수 있지만 IMEI 번호 또는 일련 번호는 공유할 수 없습니다. 디바이스에서 IMEI 또는 일련 번호를 보고하지 않는 경우 일반 이름으로 인증서가 발급됩니다.

- **주체 대체 이름**: Configuration Manager에서 인증서 요청의 SAN(주체 대체 이름) 값을 자동으로 만드는 방법을 지정합니다. 예를 들어 사용자 인증서 유형을 선택한 경우 주체 대체 이름에 UPN(사용자 계정 이름)을 포함할 수 있습니다. 클라이언트 인증서가 네트워크 정책 서버에 대해 인증하는 경우, 주체 대체 이름을 UPN으로 설정합니다.  

- **인증서 유효 기간**: 발급 CA에 사용자 지정 유효 기간을 설정 하는 경우 인증서가 만료 되기까지 남은 남은 시간을 지정 합니다.

    > [!TIP]
    > 다음 명령줄을 사용 하 여 사용자 지정 유효 기간을 설정 합니다. `certutil -setreg Policy\EditFlags +EDITF_ATTRIBUTEENDDATE`
    > 이 명령에 대 한 자세한 내용은 [인증서 인프라](/configmgr/protect/deploy-use/certificate-infrastructure)를 참조 하세요.  

    지정된 인증서 템플릿에서 유효 기간보다 작은 값은 지정할 수 있지만 높은 값은 지정할 수 없습니다. 예를 들어, 인증서 템플릿의 인증서 유효 기간이 2년이면 값을 1년으로 지정할 수는 있어도 5년으로는 지정할 수 없습니다. 또한 이 값은 발급 CA 인증서의 남은 유효 기간보다 작아야 합니다.  

- **키 사용**: 인증서에 대한 키 사용 옵션을 지정합니다. 다음 옵션 중에서 선택 합니다.  

  - **키 암호화**: 키가 암호화된 경우에만 키 교환을 허용합니다.  

  - **디지털 서명**: 디지털 서명으로 키를 보호하는 경우에만 키 교환을 허용합니다.  

  인증서 템플릿을 찾은 경우 다른 인증서 템플릿을 선택 하지 않으면 이러한 설정을 변경할 수 없습니다.  

  위의 두 키 사용 옵션 중 하나 또는 둘 모두를 사용 하 여 선택한 인증서 템플릿을 구성 합니다. 그렇지 않으면 인증서 등록 지점 로그 파일(**Crp.log**)에 다음 메시지가 표시됩니다. **CSR의 키 사용과 챌린지의 키 사용이 일치하지 않습니다.**  

- **키 크기(비트)** : 키의 크기(비트)를 선택합니다.  

- **확장 키 사용**: 인증서의 용도에 대한 값을 추가합니다. 대부분의 경우, 인증서를 사용하려면 사용자 또는 디바이스가 서버에 대해 인증할 수 있는 **클라이언트 인증**이 필요합니다. 필요에 따라 다른 키 사용을 추가할 수 있습니다.  

- **해시 알고리즘**: 이 인증서와 함께 사용할 수 있는 해시 알고리즘 유형 중 하나를 선택합니다. 연결 디바이스에서 지원되는 가장 강력한 보안 수준을 선택합니다.  

  > [!NOTE]  
  > **SHA-2** 는 SHA-256, SHA-384 및 SHA-512를 지원합니다. **SHA-3** 은 SHA-3만 지원합니다.  

- **루트 CA 인증서**: 이전에 구성하고 사용자 또는 디바이스에 배포한 루트 CA 인증서 프로필을 선택합니다. 이 CA 인증서는 이 인증서 프로필에서 구성하려는 인증서를 발급할 CA에 대한 루트 인증서여야 합니다.  

  > [!IMPORTANT]  
  > 사용자 또는 디바이스에 배포되지 않은 루트 CA 인증서를 지정하는 경우 System Center Configuration Manager는 이 인증서 프로필에서 구성 중인 인증서 요청을 시작하지 않습니다.  

## <a name="supported-platforms"></a>지원되는 플랫폼  

인증서 프로필 만들기 마법사의 **지원되는 플랫폼** 페이지에서 인증서 프로필을 설치하려는 OS 버전을 선택합니다. **모두 선택**을 선택하여 사용 가능한 모든 운영 체제에 인증서 프로필을 설치합니다.

## <a name="next-steps"></a>다음 단계

새 인증서 프로필이 **자산 및 호환성** 작업 영역의 **인증서 프로필** 노드에 나타납니다. 사용자 또는 장치에 배포할 준비가 되었습니다. 자세한 내용은 [프로필 배포 방법](/configmgr/protect/deploy-use/deploy-wifi-vpn-email-cert-profiles)을 참조하세요.
