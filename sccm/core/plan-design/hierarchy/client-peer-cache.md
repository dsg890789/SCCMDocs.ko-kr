---
title: 클라이언트 피어 캐시
titleSuffix: Configuration Manager
description: System Center Configuration Manager를 사용하여 콘텐츠를 배포할 때는 클라이언트 콘텐츠 원본 위치에 대해 피어 캐시를 사용합니다.
ms.custom: na
ms.date: 04/10/2018
ms.reviewer: na
ms.suite: na
ms.prod: configuration-manager
ms.technology:
- configmgr-other
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 86cd5382-8b41-45db-a4f0-16265ae22657
caps.latest.revision: 3
author: aczechowski
ms.author: aaroncz
manager: dougeby
ms.openlocfilehash: 99eef9faf6ac66f65d16020b703e3a64d9beb9d0
ms.sourcegitcommit: fb84bcb31d825f454785e3d9d8be669e00fe2b27
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 04/16/2018
---
# <a name="peer-cache-for-configuration-manager-clients"></a>Configuration Manager 클라이언트용 피어 캐시

*적용 대상: System Center Configuration Manager(현재 분기)*

<!--1101436-->
**피어 캐시**를 사용하면 원격 위치의 클라이언트에 대한 콘텐츠 배포를 관리하는 데 도움이 됩니다. 피어 캐시는 클라이언트가 로컬 캐시의 콘텐츠를 다른 클라이언트와 직접 공유할 수 있도록 하는 기본 제공 Configuration Manager 솔루션입니다.   

> [!TIP]  
> 이 기능은 버전 1610에서 [시험판 기능](/sccm/core/servers/manage/pre-release-features)으로 처음 소개되었습니다. 버전 1710 버전부터 이 기능은 더 이상 시험판 기능이 아닙니다.  


> [!Note]  
> Configuration Manager는 기본적으로 이 선택적 기능을 활성화하지 않습니다. 이 기능은 사용하기 전에 활성화해야 합니다. 자세한 내용은 [업데이트에서 선택적 기능 사용](/sccm/core/servers/manage/install-in-console-updates#bkmk_options)을 참조하세요.<!--505213-->  


## <a name="overview"></a>개요
피어 캐시 클라이언트는 피어 캐시를 사용하도록 설정된 Configuration Manager 클라이언트입니다. 추가 클라이언트와 공유할 수 있는 콘텐츠가 있는 피어 캐시 클라이언트는 피어 캐시 원본입니다.
 -  클라이언트 설정을 사용하여 클라이언트가 피어 캐시를 사용하도록 설정합니다.
 -  피어 캐시 원본으로 콘텐츠를 공유하려면 피어 캐시 클라이언트는 다음 조건을 충족해야 합니다.
    -  도메인에 가입되어 있어야 합니다. 그러나 도메인에 가입되지 않은 클라이언트가 도메인에 가입된 피어 캐시 원본에서 콘텐츠 얻을 수 있습니다.
    -  콘텐츠를 검색하는 클라이언트의 현재 경계 그룹에 대한 구성원이어야 합니다. 클라이언트가 대체 기능을 사용하여 인접 경계 그룹의 콘텐츠를 검색할 때 콘텐츠 원본 위치 목록에는 인접 경계 그룹의 피어 캐시 클라이언트가 포함되지 않습니다. 현재 및 인접 경계 그룹에 대한 자세한 내용은 [경계 그룹](/sccm/core/servers/deploy/configure/define-site-boundaries-and-boundary-groups##a-namebkmkboundarygroupsa-boundary-groups)을 참조하세요.
 - 구성 관리자 클라이언트는 피어 캐시를 사용하여 캐시의 모든 유형의 콘텐츠를 다른 클라이언트에 제공합니다. 이 콘텐츠에는 Office 365 파일이 포함되며 설치 파일이 표시됩니다. <!--SMS.500850-->
 -  피어 캐시는 BranchCache와 같은 다른 솔루션의 사용을 대체하지 않습니다. 피어 캐시는 다른 솔루션과 함께 작동하여 배포 지점과 같은 기존의 콘텐츠 배포 솔루션을 확장하기 위한 옵션을 더 많이 제공합니다. 피어 캐시는 BranchCache를 사용하지 않는 사용자 지정 솔루션입니다. Windows BranchCache를 사용하도록 설정하거나 사용하지 않는 경우에도 피어 캐시는 계속 작동합니다.

### <a name="operations"></a>작업

피어 캐시를 사용하도록 설정하려면 클라이언트 설정을 컬렉션에 배포합니다. 그런 다음 컬렉션의 멤버는 동일한 경계 그룹에 있는 다른 클라이언트에 대한 피어 콘텐츠 원본 역할을 합니다.
 -  피어 콘텐츠 원본으로 작동하는 클라이언트는 사용할 수 있는 캐시된 콘텐츠 목록을 해당 관리 지점에 제출합니다.
 -  해당 경계 그룹의 다음 클라이언트에서 해당 콘텐츠를 요청하면 콘텐츠가 있고 온라인 상태에 있는 각 피어 캐시 원본이 잠재적 콘텐츠 원본 목록에 반환됩니다. 이 목록에는 해당 경계 그룹의 배포 지점 및 다른 콘텐츠 원본 위치도 포함됩니다.
 -  일반 프로세스에 따라 콘텐츠를 검색하는 클라이언트가 제공된 목록에서 원본 하나만 선택합니다. 그런 다음 클라이언트에서 해당 콘텐츠를 가져오려고 시도합니다.

> [!NOTE]
> 클라이언트가 콘텐츠에 대한 인접 경계 그룹으로 대체하는 경우 인접 경계 그룹의 피어 캐시 콘텐츠 원본 위치가 잠재적 콘텐츠 원본 위치 목록에 추가되지 않습니다.  


피어 캐시 원본으로 가장 적합한 클라이언트만 선택하는 것이 좋습니다. 섀시 종류, 디스크 공간 및 네트워크 연결과 같은 특성에 따라 클라이언트 적합성을 평가합니다. 피어 캐시에 사용하기에 가장 적합한 클라이언트를 선택하는 데 도움이 되는 자세한 내용은 [Microsoft 컨설턴트의 블로그](https://blogs.technet.microsoft.com/setprice/2016/06/29/pe-peer-cache-custom-reporting-examples/)를 참조하세요.

**피어 캐시 원본에 대한 제한된 액세스**  
버전 1702부터 피어 캐시 원본 컴퓨터에서 다음 조건 중 하나가 충족되면 경우 피어 캐시 원본 컴퓨터에서 콘텐츠 요청을 거부합니다.  
  -  배터리 부족 모드에 있는 경우
  -  콘텐츠를 요청 시 CPU 로드가 80%를 초과하는 경우
  -  디스크 I/O에 10을 초과하는 *AvgDiskQueueLength*가 있는 경우
  -  컴퓨터에 대한 연결을 더 이상 사용할 수 없는 경우   

Configuration Manager SDK에서 피어 원본 기능에 대한 클라이언트 구성 서버 WMI 클래스(*SMS_WinPEPeerCacheConfig*)를 사용하여 이러한 설정을 구성합니다.

컴퓨터에서 콘텐츠 요청을 거부하는 경우 요청하는 컴퓨터는 사용 가능한 콘텐츠 원본 위치 목록에서 해당 콘텐츠를 계속 검색합니다.   



### <a name="monitoring"></a>모니터링   
클라이언트 데이터 원본 대시보드를 확인하면 피어 캐시 사용법을 쉽게 파악할 수 있습니다. [클라이언트 데이터 원본 대시보드](/sccm/core/servers/deploy/configure/monitor-content-you-have-distributed#client-data-sources-dashboard)를 참조하세요.

버전 1702부터 세 가지 보고서를 사용하여 피어 캐시 사용을 확인할 수 있습니다. 콘솔에서 **모니터링** > **보고** > **보고서**로 이동합니다. 보고서는 모두 **소프트웨어 배포 콘텐츠** 유형입니다.
1.  **피어 캐시 원본 콘텐츠 거부**:  
이 보고서를 사용하여 경계 그룹의 피어 캐시 원본에서 콘텐츠 요청을 거부하는 빈도를 파악합니다.
 - **알려진 문제:** *MaxCPULoad* 또는 *MaxDiskIO* 같은 결과를 드릴다운하면 보고서나 세부 정보를 찾을 수 없음을 나타내는 오류가 표시될 수 있습니다. 이 문제를 해결하려면 결과를 직접 표시하는 다음 두 가지 보고서를 사용합니다.

2. **조건별 피어 캐시 원본 콘텐츠 거부**:  
이 보고서를 사용하여 지정된 경계 그룹 또는 거부 유형에 대한 거부 세부 정보를 이해합니다. 지정할 수 있습니다.

  - **알려진 문제:** 사용 가능한 매개 변수에서 선택할 수 없으면 매개 변수를 수동으로 입력해야 합니다. *경계 그룹 이름* 및 *거부 유형*의 값을 첫 번째 보고서에 표시된 대로 입력합니다. 예를 들어 *거부 유형*의 경우 *MaxCPULoad* 또는 *MaxDiskIO*를 입력할 수 있습니다.

3. **피어 캐시 원본 콘텐츠 거부 세부 정보**:   
  이 보고서를 사용하여 거부되었을 때 클라이언트에서 요청한 콘텐츠를 파악합니다.

 - **알려진 문제:** 사용 가능한 매개 변수에서 선택할 수 없으면 매개 변수를 수동으로 입력해야 합니다. **피어 캐시 원본 콘텐츠 거부** 보고서에 표시된 대로 *거부 유형*의 값을 입력합니다. 그런 다음 추가 정보가 필요한 콘텐츠 원본에 대한 *리소스 ID*를 입력합니다. 콘텐츠 원본의 리소스 ID를 찾으려면:  

    1. **조건별 피어 캐시 원본 콘텐츠 거부** 보고서의 결과에 *피어 캐시 원본*으로 표시되는 컴퓨터 이름을 찾습니다.  
    2. 다음으로 **자산 및 준수** > **장치**로 이동하고 해당 컴퓨터 이름을 검색합니다. 리소스 ID 열의 값을 사용합니다.  


## <a name="requirements-and-considerations-for-peer-cache"></a>피어 캐시에 대한 요구 사항 및 고려 사항
-   피어 캐시는 Configuration Manager 클라이언트로 지원되는 모든 Windows 운영 체제에서 지원됩니다. Windows가 아닌 운영 체제는 피어 캐시에 대해 지원되지 않습니다.

-   클라이언트는 현재 경계 그룹에 포함되어 있는 피어 캐시 클라이언트의 콘텐츠만 전송할 수 있습니다.

-   버전 1706 전에 클라이언트가 피어 캐시를 사용하는 각 사이트는 [네트워크 액세스 계정](/sccm/core/plan-design/hierarchy/manage-accounts-to-access-content#a-namebkmknaaa-network-access-account)으로 구성되어야 합니다. 버전 1706부터 한 가지 경우를 제외하고, 해당 계정이 더 이상 필요하지 않습니다. 예외 시나리오는 피어 캐시를 사용하는 클라이언트가 소프트웨어 센터에서 작업 순서를 실행하고 해당 작업 순서가 부팅 이미지로 다시 부팅하는 경우입니다. 이 시나리오에서는 여전히 네트워크 액세스 계정이 클라이언트에 필요합니다. 클라이언트가 Windows PE에 있으면 네트워크 액세스 계정을 사용하여 피어 캐시 원본에서 콘텐츠를 가져옵니다.

    필요한 경우 피어 캐시 원본 컴퓨터에서 네트워크 액세스 계정을 사용하여 피어의 다운로드 요청을 인증합니다. 이 계정에는 이 용도의 도메인 사용자 권한만 필요합니다.

-   클라이언트의 마지막 하드웨어 인벤토리 제출은 피어 캐시 콘텐츠 원본의 현재 경계를 결정합니다. 다른 경계 그룹으로 로밍하는 클라이언트는 여전히 피어 캐시를 위해 이전 경계 그룹의 멤버일 수 있습니다. 이 동작으로 인해 직접 네트워크 위치에 있지 않은 피어 캐시 콘텐츠 원본이 클라이언트에 제공됩니다. 따라서 이러한 구성을 사용할 가능성이 높은 클라이언트는 피어 캐시 원본으로 참여하지 않도록 제외하는 것이 좋습니다.
-    버전 1706부터 피어 캐시 클라이언트는 먼저 콘텐츠를 다운로드하려고 시도하기 전에 피어 캐시 콘텐츠 원본이 온라인 상태인지 확인합니다. <!--sms.498675-->

## <a name="to-configure-client-peer-cache-client-settings"></a>클라이언트 피어 캐시 클라이언트 설정을 구성하려면
클라이언트 설정을 구성하는 방법에 대한 자세한 내용은 [클라이언트 캐시 설정](/sccm/core/clients/deploy/about-client-settings#client-cache-settings)을 참조하세요. 자세한 내용은 [클라이언트 설정을 구성하는 방법](/sccm/core/clients/deploy/configure-client-settings)을 참조하세요.

피어 캐시를 사용하도록 설정되고 Windows 방화벽을 사용하는 클라이언트에서 Configuration Manager는 클라이언트 설정에서 지정한 방화벽 포트를 구성합니다.
