---
title: "데이터 웨어하우스"
titleSuffix: Configuration Manager
description: "System Center Configuration Manager에 대한 데이터 웨어하우스 서비스 지점 및 데이터베이스"
ms.custom: na
ms.date: 02/26/2018
ms.prod: configuration-manager
ms.reviewer: na
ms.suite: na
ms.technology:
- configmgr-other
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: aaf43e69-68b4-469a-ad58-9b66deb29057
caps.latest.revision: 
author: mestew
ms.author: mstewart
manager: dougeby
ms.openlocfilehash: 954ec65bae15e087d6cf5afbcc8e0da1ebf83533
ms.sourcegitcommit: be939893f0ceca4add8655ae2c24e42aa16aec38
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 02/27/2018
---
#  <a name="the-data-warehouse-service-point-for-system-center-configuration-manager"></a>System Center Configuration Manager에 대한 데이터 웨어하우스 서비스 지점
*적용 대상: System Center Configuration Manager(현재 분기)*

버전 1702부터 데이터 웨어하우스 서비스 지점을 사용하여 Configuration Manager 배포에 대한 장기 기록 데이터를 저장하고 보고할 수 있습니다.

> [!TIP]
> 이 기능은 버전 1702에서 [시험판 기능](/sccm/core/servers/manage/pre-release-features)으로 처음 소개되었습니다. 버전 1706 버전부터 이 기능은 더 이상 시험판 기능이 아닙니다.

데이터 웨어하우스는 최대 2TB의 데이터를 지원하며 변경 내용 추적을 위한 타임스탬프가 있습니다. 데이터 저장은 Configuration Manager 사이트 데이터베이스에서 데이터 웨어하우스 데이터베이스로의 자동화된 동기화를 통해 수행됩니다. 이 정보는 보고 서비스 지점에서 액세스할 수 있습니다. 데이터 웨어하우스 데이터베이스와 동기화된 데이터는 3년 동안 보존됩니다. 주기적으로 기본 제공 작업은 3년보다 오래된 데이터를 제거합니다.

동기화되는 데이터에는 전역 데이터 및 사이트 데이터 그룹의 다음 항목이 포함됩니다.
- 인프라 상태
- 보안
- 준수
- 맬웨어   
- 소프트웨어 배포
- 인벤토리 세부 정보(그러나 인벤토리 기록은 동기화되지 않음)

사이트 시스템 역할을 설치하면 데이터 웨어하우스 데이터베이스가 설치 및 구성됩니다. 또한 여러 보고서가 설치되므로 이 데이터를 쉽게 검색하고 보고할 수 있습니다.



## <a name="prerequisites-for-the-data-warehouse-service-point"></a>데이터 웨어하우스 서비스 지점에 대한 필수 구성 요소
- 이러한 데이터 웨어하우스 사이트 시스템 역할은 계층의 최상위 계층 사이트에서만 지원됩니다. (중앙 관리 사이트 또는 독립 기본 사이트)
- 사이트 시스템 역할을 설치하는 컴퓨터에 .NET Framework 4.5.2 이상 버전이 필요합니다.
- **보고 서비스 지점 계정**에 데이터 웨어하우스 데이터베이스에 대한 **db_datareader** 권한을 부여합니다. 
- 사이트 시스템 역할을 설치한 컴퓨터의 컴퓨터 계정은 데이터 웨어하우스 데이터베이스와 데이터를 동기화하는 데 사용됩니다. 이 계정에는 다음 권한이 있어야 합니다.  
  - 데이터 웨어하우스 데이터베이스를 호스트하는 컴퓨터의 **Administrator**
  - 데이터 웨어하우스 데이터베이스에 대한 **DB_Creator** 권한
  - 최상위 계층 사이트의 사이트 데이터베이스에 대한 **실행** 권한이 있는 **DB_owner** 또는 **DB_reader**
- 데이터 웨어하우스 데이터베이스에는 SQL Server 2012 이상이 필요합니다. 해당 버전은 Standard, Enterprise 또는 Datacenter일 수 있습니다.
- 웨어하우스 데이터베이스를 호스트하는 데 다음 SQL Server 구성이 지원됩니다.  
  - 기본 인스턴스
  - 명명된 인스턴스
  - SQL Server Always On 가용성 그룹
  - SQL Server 장애 조치(failover) 클러스터
- [분산 보기](/sccm/core/servers/manage/data-transfers-between-sites#bkmk_distviews)를 사용하는 경우 데이터 웨어하우스 서비스 지점 사이트 시스템 역할은 중앙 관리 사이트의 사이트 데이터베이스를 호스트하는 동일한 서버에 설치되어야 합니다.

데이터 웨어하우스 데이터베이스에 대한 SQL Server 라이선스에 대한 자세한 내용은 [제품 및 라이선스 FAQ](/sccm/core/understand/product-and-licensing-faq)를 참조하세요. <!-- sms500967 -->


> [!IMPORTANT]  
> 데이터 웨어하우스 서비스 지점을 실행하거나 데이터 웨어하우스 데이터베이스를 호스트하는 컴퓨터에서 다음 언어 중 하나를 실행할 경우 데이터 웨어하우스가 지원되지 않습니다.
> - JPN – 일본어
> - KOR – 한국어
> - CHS – 중국어(간체)
> - CHT – 중국어(번체) 이 문제는 향후 릴리스에서 해결될 예정입니다.


## <a name="install-the-data-warehouse"></a>데이터 웨어하우스 설치
각 계층 구조는 해당 최상위 계층 사이트의 사이트 시스템에서 이 역할의 단일 인스턴스를 지원합니다. 웨어하우스에 대한 데이터베이스를 호스트하는 SQL Server는 사이트 시스템 역할에 로컬이거나 원격일 수 있습니다. 데이터 웨어하우스는 동일한 사이트에 설치된 보고 서비스 지점에서 작동합니다. 동일한 서버에 두 개의 사이트 시스템 역할을 설치할 필요가 없습니다.   

역할을 설치하려면 **사이트 시스템 역할 추가 마법사** 또는 **사이트 시스템 서버 만들기 마법사**를 사용합니다. 자세한 내용은 [사이트 시스템 역할 설치](/sccm/core/servers/deploy/configure/install-site-system-roles)를 참조하세요.  

역할을 설치하면 Configuration Manager에서 지정한 SQL Server 인스턴스에 데이터 웨어하우스 데이터베이스를 자동으로 만듭니다. [데이터 웨어하우스 데이터베이스를 새 SQL Server로 이동](#move-the-data-warehouse-database)하는 경우와 같이 기존 데이터베이스의 이름을 지정하는 경우 Configuration Manager는 새 데이터베이스를 생성하지 않고 지정한 데이터베이스를 대신 사용합니다.

### <a name="configurations-used-during-installation"></a>설치 중에 사용되는 구성
**시스템 역할 선택** 페이지:  

**일반** 페이지:
-   **Configuration Manager 데이터 웨어하우스 데이터베이스 연결 설정**:
     - **SQL Server 정규화된 도메인 이름**: 데이터 웨어하우스 서비스 지점 데이터베이스를 호스트하는 서버의 FQDN(정규화된 도메인 이름)을 지정합니다.
     - **SQL Server 인스턴스 이름(해당하는 경우)**: SQL Server의 기본 인스턴스를 사용하지 않는 경우 인스턴스를 지정해야 합니다.
     - **데이터베이스 이름**: 데이터 웨어하우스 데이터베이스의 이름을 지정합니다. 데이터베이스의 이름은 10자를 초과할 수 없습니다. (향후 릴리스에서는 지원되는 이름 길이가 늘어날 예정입니다.)
     Configuration Manager는 이 이름으로 데이터 웨어하우스 데이터베이스를 만듭니다. SQL Server 인스턴스에 이미 존재하는 데이터베이스 이름을 지정하면 Configuration Manager는 해당 데이터베이스를 사용합니다.
     - **연결에 사용되는 SQL Server 포트**: 데이터 웨어하우스 데이터베이스를 호스트하는 SQL Server에서 사용하는 TCP/IP 포트 번호를 지정합니다. 이 포트는 데이터 웨어하우스 동기화 서비스에서 데이터 웨어하우스 데이터베이스에 연결하는 데 사용됩니다.  

**동기화 일정** 페이지:   
- **동기화 일정**:
    - **시작 시간**: 데이터 웨어하우스 동기화를 시작할 시간을 지정합니다.
    - **되풀이 패턴**:
         - **매일**: 동기화가 매일 실행되도록 지정합니다.
         - **매주**: 매주 동기화를 되풀이할 요일을 지정합니다.

## <a name="reporting"></a>보고
데이터 웨어하우스 서비스 지점을 설치하면 동일한 사이트에 설치된 보고 서비스 지점에서 여러 보고서를 사용할 수 있습니다. 보고 서비스 지점을 설치하기 전에 데이터 웨어하우스 서비스 지점을 설치하는 경우 나중에 보고 서비스 지점을 설치할 때 보고서가 자동으로 추가됩니다.

데이터 웨어하우스 사이트 시스템 역할에는 **데이터 웨어하우스** 범주에 속한 다음 보고서가 포함됩니다.
 - **응용 프로그램 배포 - 기록**: 특정 응용 프로그램 및 컴퓨터에 대한 응용 프로그램 배포 정보를 확인합니다.
 - **Endpoint Protection 및 소프트웨어 업데이트 준수 - 기록**: 소프트웨어 업데이트가 누락된 컴퓨터를 확인합니다.  
 - **일반 하드웨어 인벤토리 - 기록**: 특정 컴퓨터에 대한 모든 하드웨어 인벤토리를 확인합니다.
 - **일반 소프트웨어 인벤토리 - 기록**: 특정 컴퓨터에 대한 모든 소프트웨어 인벤토리를 확인합니다.
 - **인프라 상태 개요 - 기록**: Configuration Manager 인프라의 상태 개요를 표시합니다.
 - **검색된 맬웨어 목록 - 기록**:   조직에서 검색된 맬웨어를 확인합니다.
 - **소프트웨어 배포 요약 - 기록**: 특정 보급 알림 및 컴퓨터에 대한 소프트웨어 배포 요약입니다.


## <a name="expand-an-existing-stand-alone-primary-into-a-hierarchy"></a>기존 독립 실행형 기본 사이트를 계층으로 확장
기존 독립 실행형 기본 사이트를 확장하기 위해 중앙 관리 사이트를 설치하려면 먼저 데이터 웨어하우스 서비스 지점 역할을 제거해야 합니다. 중앙 관리 사이트를 설치한 후 중앙 관리 사이트에서 사이트 시스템 역할을 설치할 수 있습니다.  

이 경우 데이터 웨어하우스 데이터베이스의 이동과 달리 기본 사이트에서 이전에 동기화한 기록 데이터가 손실됩니다. 기본 사이트에서 데이터베이스를 백업하여 중앙 관리 사이트에서 복원하는 기능은 지원되지 않습니다.




## <a name="move-the-data-warehouse-database"></a>데이터 웨어하우스 데이터베이스 이동
데이터 웨어하우스 데이터베이스를 새 SQL Server로 이동하려면 다음 단계를 사용합니다.

1.  SQL Server Management Studio를 사용하여 데이터 웨어하우스 데이터베이스를 백업합니다. 그런 다음 데이터 웨어하우스를 호스트하는 새 컴퓨터의 SQL Server에 해당 데이터베이스를 복원합니다.   
> [!NOTE]     
> 데이터베이스를 새 서버로 복원한 후 새 데이터 웨어하우스 데이터베이스의 데이터베이스 액세스 권한이 원래 데이터 웨어하우스 데이터베이스와 동일한지 확인합니다.  

2.  Configuration Manager 콘솔을 사용하여 현재 서버에서 데이터 웨어하우스 서비스 지점 사이트 시스템 역할을 제거합니다.
3.  데이터 웨어하우스 서비스 지점을 다시 설치합니다. 복원한 데이터 웨어하우스 데이터베이스를 호스트하는 새 SQL Server 및 인스턴스의 이름을 지정합니다.
4.  사이트 시스템 역할이 설치된 후 이동이 완료됩니다.

## <a name="troubleshooting-data-warehouse-issues"></a>데이터 웨어하우스 문제 해결
**로그 파일**  
다음 로그를 사용하여 데이터 웨어하우스 서비스 지점 설치 또는 데이터 동기화 문제를 조사할 수 있습니다.
 - *DWSSMSI.log* 및 *DWSSSetup.log* - 데이터 웨어하우스 서비스 지점을 설치할 때 발생하는 오류를 조사하려면 이 로그를 사용합니다.
 - *Microsoft.ConfigMgrDataWarehouse.log* - 사이트 데이터베이스와 데이터 웨어하우스 데이터베이스 간의 데이터 동기화를 조사하려면 이 로그를 사용합니다.

**설치 실패**  
 데이터 웨어하우스가 원격 사이트 시스템에 설치된 첫 번째 사이트 시스템 역할인 경우, 해당 컴퓨터에 데이터 웨어하우스 서비스 지점을 설치하지 못합니다.  
  - **해결 방법**: 데이터 웨어하우스 서비스 지점을 설치하려는 컴퓨터가 이미 하나 이상의 다른 사이트 시스템 역할을 호스트하고 있는지 확인합니다.  


**알려진 동기화 문제**:   
*Microsoft.ConfigMgrDataWarehouse.log*에서 **"스키마 개체를 채우지 못했습니다"** 메시지를 나타내며 동기화가 실패합니다.  
 - **해결 방법**: 사이트 시스템 역할을 호스트하는 컴퓨터의 컴퓨터 계정이 데이터 웨어하우스 데이터베이스에 대한 **db_owner**인지 확인합니다.

데이터 웨어하우스 데이터베이스 및 보고 서비스 지점이 서로 다른 사이트 시스템에 있는 경우 데이터 웨어하우스 보고서가 열리지 않습니다.  

 - **해결 방법**: **보고 서비스 지점 계정**에 데이터 웨어하우스 데이터베이스에 대한 **db_datareader** 권한을 부여합니다.

데이터 웨어하우스 보고서를 열 때 다음 오류가 반환됩니다.

*보고서를 처리하는 동안 오류가 발생했습니다(rsProcessingAborted). 데이터 원본 'AutoGen__39B693BB_524B_47DF_9FDB_9000C3118E82_'에 대한 연결을 설정할 수 없습니다(rsErrorOpeningConnection). 서버에 연결했지만 사전 로그인 핸드셰이크 중에 오류가 발생했습니다(공급자: SSL 공급자, 오류: 0 - 인증서 체인이 신뢰할 수 없는 기관으로부터 발급되었습니다.).*

- **해결 방법**: 다음 단계에 따라 인증서를 구성합니다.

  1. 데이터 웨어하우스 데이터베이스를 호스트하는 컴퓨터에서 다음을 수행합니다.

    1. IIS를 열고 **서버 인증서**를 클릭한 후 **자체 서명 된 인증서 만들기**를 마우스 오른쪽 단추로 클릭하고 인증서 이름의 "식별 이름"을 **데이터 웨어하우스 SQL Server 식별 인증서**로 지정합니다. 인증서 저장소를 **개인**으로 선택합니다.
    2. **SQL Server 구성 관리자**를 열고 **SQL Server 네트워크 구성**에서 **MSSQLSERVER 용 프로토콜** 아래의 **속성**을 마우스 오른쪽 단추로 클릭하여 선택합니다. 그런 다음 **인증서** 탭에서 **데이터 웨어하우스 SQL Server 식별 인증서**를 인증서로 선택하고 변경 내용을 저장합니다.  
    3. **SQL Server 구성 관리자**를 엽니다. **SQL Server Services**에서 **SQL Server 서비스** 및 **Reporting Service** 서비스를 다시 시작합니다.
    4.  MMC(Microsoft Management Console)를 열고 **인증서**에 대한 스냅인을 추가한 후 로컬 컴퓨터의 **컴퓨터 계정**에 대한 인증서를 관리하도록 선택합니다. 그런 다음 MMC에서 **개인** 폴더 > **인증서**를 확장하고 **데이터 웨어하우스 SQL Server 식별 인증서**를 **DER로 인코딩된 바이너리 X.509(.CER)** 파일로 내보냅니다.    
  2.    SQL Server Reporting Services를 호스트하는 컴퓨터에서 MMC를 열고 **인증서**에 대한 스냅인을 추가합니다. 그런 후 **컴퓨터 계정**에 대한 인증서를 관리하도록 선택합니다. **신뢰할 수 있는 루트 인증 기관** 폴더에서 **데이터 웨어하우스 SQL Server 식별 인증서**를 가져옵니다.


## <a name="data-warehouse-dataflow"></a>데이터 웨어하우스 데이터 흐름   
![Datawarehouse_flow](./media/datawarehouse.png)

**데이터 저장 및 동기화**

| 단계   | 세부 정보  |
|:------:|-----------|  
| **1**  |  사이트 서버는 데이터를 전송하고 사이트 데이터베이스에 저장합니다.  |  
| **2**  |      일정 및 구성에 따라 데이터 웨어하우스 서비스 지점은 사이트 데이터베이스에서 데이터를 가져옵니다.  |  
| **3**  |  데이터 웨어하우스 서비스 지점은 동기화된 데이터 복사본을 전송하고 데이터 웨어하우스 데이터베이스에 저장합니다. |  
**보고**

| 단계   | 세부 정보  |
|:------:|-----------|  
| **A**  |  사용자는 기본 제공 보고서를 사용하여 데이터를 요청합니다. 이 요청은 SQL Server Reporting Services를 통해 보고 서비스 지점에 전달됩니다. |  
| **B**  |      대부분의 보고서는 현재 정보에 대한 것이며, 사이트 데이터베이스에 대해 이러한 요청이 실행됩니다. |  
| **C**  | 보고서에서 기록 데이터를 요청하는 경우 *범주*가 **데이터 웨어하우스**인 보고서 중 하나를 사용하여 데이터 웨어하우스 데이터베이스에 대해 요청이 실행됩니다.   |  
