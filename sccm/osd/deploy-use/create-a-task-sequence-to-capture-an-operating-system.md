---
title: OS를 캡처하는 작업 순서 만들기
titleSuffix: Configuration Manager
description: 빌드 및 캡처 작업 순서는 OS와 함께 특정 드라이버 및 소프트웨어 업데이트를 포함할 수 있는 참조 컴퓨터를 빌드합니다.
ms.date: 11/29/2019
ms.prod: configuration-manager
ms.technology: configmgr-osd
ms.topic: conceptual
ms.assetid: 25e4ac68-0e78-4bbe-b8fc-3898b372c4e8
author: aczechowski
ms.author: aaroncz
manager: dougeby
ms.openlocfilehash: 1b6b6f9c4bf17196821c21b9677215df83eeaed6
ms.sourcegitcommit: 148745e1c3d9817d8beea20684a54436210959c6
ms.translationtype: MTE75
ms.contentlocale: ko-KR
ms.lasthandoff: 01/09/2020
ms.locfileid: "75825509"
---
# <a name="create-a-task-sequence-to-capture-an-os"></a>OS를 캡처하는 작업 순서 만들기

*적용 대상: Configuration Manager(현재 분기)*

작업 순서를 사용 하 여 Configuration Manager에서 컴퓨터에 OS를 배포 하는 경우 컴퓨터는 작업 순서에서 지정한 OS 이미지를 설치 합니다. 특정 드라이버, 응용 프로그램 및 소프트웨어 업데이트를 포함 하도록 OS 이미지를 사용자 지정할 수 있습니다. 우선, 만들기 및 캡처 작업 순서를 사용하여 참조 컴퓨터를 만듭니다. 그런 다음 해당 참조 컴퓨터에서 OS 이미지를 캡처합니다. 캡처를 사용할 수 있는 참조 컴퓨터가 이미 있는 경우에는 사용자 지정 작업 순서를 만들어 OS를 캡처합니다.

## <a name="BKMK_BuildCaptureTS"></a> 만들기 및 캡처 작업 순서 정보

만들기 및 캡처 작업 순서:

- 참조 컴퓨터를 분할 하 고 포맷 합니다.
- OS 설치
- 구성 관리자 클라이언트 설치
- 응용 프로그램 설치
- 소프트웨어 업데이트 적용
- 참조 컴퓨터에서 OS를 캡처합니다.

작업 순서와 연결된 패키지(예: 애플리케이션)는 빌드 및 캡처 작업 순서를 배포하기 전에 배포 지점에서 사용할 수 있어야 합니다.

## <a name="BKMK_CreatePackages"></a> 요구 사항

운영 체제를 설치 하는 작업 순서를 만들기 전에 다음 구성 요소가 준비 되어 있는지 확인 합니다.  

### <a name="required"></a>필수

- [부팅 이미지](/sccm/osd/get-started/manage-boot-images)

- [OS 이미지](/sccm/osd/get-started/manage-operating-system-images)

### <a name="required-if-used"></a>필수(사용될 경우)

- 참조 컴퓨터에서 하드웨어를 지원하는 데 필요한 Windows 드라이버를 포함하는[드라이버 패키지](/sccm/osd/get-started/manage-drivers)가 있어야 합니다. 드라이버를 관리하는 작업 순서 단계에 대한 자세한 내용은 [Use task sequences to install device drivers](/sccm/osd/get-started/manage-drivers#BKMK_TSDrivers)를 참조하세요.

- [소프트웨어 업데이트](/sccm/sum/get-started/synchronize-software-updates)

- [애플리케이션](/sccm/apps/deploy-use/create-applications)

## <a name="BKMK_CreateBuildCaptureTS"></a> 빌드 및 캡처 작업 순서 만들기

작업 순서를 사용하여 참조 컴퓨터를 빌드하고 OS를 캡처하려면 다음 절차를 따릅니다.

1. Configuration Manager 콘솔에서 **소프트웨어 라이브러리** 작업 영역으로 이동하고 **운영 체제**를 확장하고 **작업 순서** 노드를 선택합니다.  

1. 리본의 **홈** 탭에 있는 **만들기** 그룹에서 **작업 순서 만들기**를 선택하여 작업 순서 만들기 마법사를 시작합니다.  

1. **새 작업 순서 만들기** 페이지에서 **참조 운영 체제 이미지 만들기 및 캡처**를 선택합니다.  

1. **작업 순서 정보** 페이지에서 다음 설정을 지정합니다.  

    - **작업 순서 이름**: 작업 순서를 식별하는 이름을 지정합니다.  

    - **설명**: 작업 순서에 대 한 선택적 설명을 지정 합니다. 예를 들어 작업 순서에서 만드는 OS에 대해 설명 합니다.

    - **부팅 이미지**:이 작업 순서에 사용할 부팅 이미지를 지정 합니다.  

        > [!IMPORTANT]  
        > 부팅 이미지의 아키텍처는 대상 컴퓨터의 하드웨어 아키텍처와 호환되어야 합니다.  

1. **Windows 설치** 페이지에서 다음 설정을 지정 합니다.  

    - **이미지 패키지**: os를 설치 하는 데 필요한 파일을 포함 하는 os 이미지 패키지를 지정 합니다.  

    - **이미지 인덱스**: 이미지에 설치할 OS의 인덱스를 지정 합니다. OS 이미지에 여러 개의 버전이 있는 경우 설치할 버전을 선택합니다.  

    - **제품 키**: 필요한 경우 설치할 Windows OS의 제품 키를 지정 합니다. 인코딩된 볼륨 라이선스와 표준 제품 키를 지정할 수 있습니다. 인코딩되지 않은 제품 키를 사용 하는 경우 5 자의 각 그룹을 대시 (`-`)로 구분 합니다. `XXXXX-XXXXX-XXXXX-XXXXX-XXXXX`  

    - **서버 라이선싱 모드**: 필요한 경우, 서버 라이선스가 **사용자 단위**인지 **서버 단위**인지 또는 지정된 라이선스가 없는지 지정합니다. 서버 라이선스가 **서버 단위**인 경우 최대 서버 연결 수도 지정합니다.  

    - 배포 된 OS에 대 한 관리자 계정을 구성 하는 방법을 지정 합니다.  

        - **로컬 관리자 암호를 임의로 생성 하 고 지원 되는 모든 플랫폼에서 계정 사용 안 함**: 로컬 관리자 계정에 대해 임의의 암호를 만듭니다. Windows가 설정 된 경우 계정을 사용 하지 않도록 설정 합니다.

        - **계정을 사용 하 고 로컬 관리자 암호 지정**:이 OS를 배포 하는 모든 컴퓨터의 로컬 관리자 계정에 동일한 암호를 사용 합니다.

1. **네트워크 구성** 페이지에서 다음 설정을 지정합니다.

    - **작업 그룹에 가입**: OS가 배포되었을 때 작업 그룹에 대상 컴퓨터를 추가할지 여부를 지정합니다.  

    - **도메인에 가입**: OS가 배포되었을 때 도메인에 대상 컴퓨터를 추가할지 여부를 지정합니다. **도메인**에서 도메인의 이름을 지정합니다.  

        > [!IMPORTANT]  
        > 로컬 포리스트에 있는 도메인은 찾을 수 있습니다. 원격 포리스트의 도메인 이름을 지정 합니다.

        OU(조직 구성 단위)도 지정할 수 있습니다. 이 설정은 선택 사항이며, 컴퓨터 계정을 만들 OU의 LDAP X.500 고유 이름이 아직 없는 경우 이 이름을 지정합니다.  

    - **계정**: 지정된 도메인에 가입할 권한이 있는 계정의 사용자 이름과 암호를 지정합니다. 예: `domain\user` 또는 `%variable%`.  

        > [!IMPORTANT]  
        > 배포 하는 동안 도메인 설정 또는 작업 그룹 설정을 마이그레이션할 계획인 경우 여기에 적절 한 도메인 자격 증명을 입력 해야 합니다.  

1. **설치 Configuration Manager** 페이지에서 Configuration Manager 클라이언트 패키지를 지정 합니다. 이 패키지에는 Configuration Manager 클라이언트를 설치할 원본 파일이 포함 되어 있습니다. 또한 클라이언트를 설치 하는 데 필요한 추가 속성도 지정 합니다.  

    자세한 내용은 [클라이언트 설치 속성 정보](/sccm/core/clients/deploy/about-client-installation-properties)를 참조하세요.

1. **업데이트 포함** 페이지에서 필수 소프트웨어 업데이트를 설치할지, 모든 소프트웨어 업데이트를 설치할지, 아니면 소프트웨어 업데이트를 설치하지 않을지를 지정합니다. 소프트웨어 업데이트를 설치하도록 지정하면 Configuration Manager에서 대상 컴퓨터가 속해 있는 컬렉션을 대상으로 하는 소프트웨어 업데이트만 설치합니다.  

1. **애플리케이션 설치** 페이지에서 대상 컴퓨터에 설치할 애플리케이션을 지정합니다. 여러 애플리케이션을 지정하는 경우 특정 애플리케이션 설치가 실패할 경우 작업 순서가 계속되도록 지정할 수 있습니다.  

    > [!NOTE]
    > **시스템 준비** 페이지가 마법사에서 옆에 나타나지만 더 이상 사용 되지 않습니다. 계속하려면 **다음**을 선택합니다.

1. **이미지 속성** 페이지에서 OS 이미지에 대 한 다음 설정을 지정 합니다.

    - **만든 사람**: OS 이미지의 작성자로 지정할 사용자의 이름을 지정 합니다.  

    - **버전**: OS 이미지와 연결 된 버전 번호를 지정 합니다. 사이트에서 해당 값을 별도로 저장 하므로이 특성은 OS 버전이 아니어도 됩니다.

    - **설명**: OS 이미지에 대 한 설명을 지정 합니다.  

1. **이미지 캡처** 페이지에서 다음 설정을 지정 합니다.

    - **경로**: Configuration Manager 출력 이미지 파일 (.wim)을 저장할 공유 네트워크 폴더를 지정 합니다. 이 파일에는이 마법사에서 지정한 설정을 기반으로 하는 OS 이미지가 포함 되어 있습니다. 기존를 포함 하는 폴더를 지정 하는 경우 WIM 파일을 덮어씁니다.  

    - **계정**: 이미지가 저장된 네트워크 공유에 대한 권한이 있는 Windows 계정을 지정합니다.  

1. 마법사를 완료합니다.  

작업 순서에 단계를 더 추가 하려면 해당 단계를 선택 하 고 **편집**을 선택 합니다. 작업 순서를 편집하는 방법에 대한 자세한 내용은 [작업 순서 편집기 사용](/sccm/osd/understand/task-sequence-editor)을 참조하세요.  

다음 방법 중 하나로 참조 컴퓨터에 작업 순서를 배포합니다.  

- 참조 컴퓨터가 이미 구성 관리자 클라이언트인 경우, 참조 컴퓨터가 포함된 컬렉션에 빌드 및 캡처 작업 순서를 배포할 수 있습니다. 자세한 내용은 [Deploy a task sequence](/sccm/osd/deploy-use/deploy-a-task-sequence)항목을 참조하세요.

- 참조 컴퓨터가 구성 관리자 클라이언트가 아닌 경우 또는 참조 컴퓨터에서 작업 순서를 수동으로 실행하려는 경우, **작업 순서 미디어 만들기 마법사**를 사용하여 부팅 가능한 미디어를 만듭니다. 자세한 내용은 [부팅 가능한 미디어 만들기](/sccm/osd/deploy-use/create-bootable-media)를 참조하세요.  

이미지를 캡처한 후에는 다른 컴퓨터에 배포할 수 있습니다. 캡처한 OS 이미지를 배포 하는 방법에 대 한 자세한 내용은 [운영 체제를 설치 하는 작업 순서 만들기](/sccm/osd/deploy-use/create-a-task-sequence-to-install-an-operating-system)를 참조 하세요.  

## <a name="BKMK_CaptureExistingRefComputer"></a>기존 참조 컴퓨터에서 캡처

캡처할 참조 컴퓨터가 이미 있는 경우에는 참조 컴퓨터에서 OS만 캡처하는 작업 순서를 만들 수 있습니다. **운영 체제 이미지 캡처** 작업 순서 단계를 사용하여 참조 컴퓨터에서 하나 이상의 이미지를 캡처하고 지정된 네트워크 공유의 이미지 파일(.wim)에 저장할 수 있습니다. 부팅 이미지를 사용 하 여 Windows PE에서 참조 컴퓨터를 시작 합니다. 작업 순서는 참조 컴퓨터의 각 하드 드라이브를 .wim 파일 내 별도의 이미지로 캡처합니다. 참조된 컴퓨터에 여러 드라이브가 있는 경우 결과 .wim 파일에 각 볼륨에 대한 별도의 이미지가 포함됩니다. 이 작업은 NTFS 또는 FAT32로 포맷된 볼륨만 캡처합니다. 다른 형식의 볼륨 또는 USB 볼륨은 건너뜁니다.  

다음 절차에 따라 기존 참조 컴퓨터에서 OS 이미지를 캡처합니다.

1. Configuration Manager 콘솔에서 **소프트웨어 라이브러리** 작업 영역으로 이동하고 **운영 체제**를 확장하고 **작업 순서** 노드를 선택합니다.  

1. 리본의 **홈** 탭에 있는 **만들기** 그룹에서 **작업 순서 만들기**를 선택합니다. 이 작업은 작업 순서 만들기 마법사를 시작합니다.  

1. **새 작업 순서 만들기** 페이지에서 **새 사용자 지정 작업 순서 만들기**를 선택합니다.  

1. **작업 순서 정보** 페이지에서 작업 순서의 이름을 지정 합니다. 필요에 따라 작업 순서에 대 한 설명을 추가 합니다.  

1. 작업 순서에 대한 부팅 이미지를 지정합니다. Configuration Manager는이 부팅 이미지를 사용 하 여 Windows PE로 참조 컴퓨터를 시작 합니다. 자세한 내용은 [부팅 이미지 관리](/sccm/osd/get-started/manage-boot-images)를 참조하세요.  

1. 마법사를 완료합니다.  

1. **작업 순서** 노드에서 새 작업 순서를 선택 합니다. 그런 다음, 리본의 **홈** 탭에 있는 **작업 순서** 그룹에서 **편집**을 선택합니다. 이 작업은 작업 순서 편집기를 엽니다.  

1. 구성 관리자 클라이언트가 참조 컴퓨터에 설치된 경우에 사용합니다.

    **추가** 메뉴로 이동 하 여 **이미지**를 선택한 후 [ConfigMgr 클라이언트 캡처 준비](/sccm/osd/understand/task-sequence-steps#BKMK_PrepareConfigMgrClientforCapture)를 선택 합니다. 이 단계에서는 참조 컴퓨터의 Configuration Manager 클라이언트를 일반화 합니다.

    > [!Note]  
    > 작업 순서는 구성 관리자 클라이언트 제거를 지원하지 않습니다.

1. **추가** 메뉴로 이동 하 여 **이미지**를 선택 하 고 [Windows 캡처 준비](/sccm/osd/understand/task-sequence-steps#BKMK_PrepareWindowsforCapture)를 선택 합니다. 이 단계는 Sysprep을 실행한 다음, 컴퓨터를 작업 순서에 지정된 Windows PE 부팅 이미지로 다시 시작합니다. 이 작업을 성공적으로 완료 하려면 참조 컴퓨터를 도메인에 가입 시 키 지 마세요.

1. **추가** 메뉴로 이동 하 여 **이미지**를 선택 하 고 [운영 체제 이미지 캡처](/sccm/osd/understand/task-sequence-steps#BKMK_CaptureOperatingSystemImage)를 선택 합니다. 이 단계는 참조 컴퓨터의 하드 드라이브를 캡처하기 위해 Windows PE 에서만 실행 됩니다. 다음 설정을 구성합니다.

    - **이름** 및 **설명**: 필요에 따라 작업 순서 단계의 이름을 변경하고 설명을 제공할 수 있습니다.  

    - **대상**: 출력 .WIM 파일이 저장되는 공유 네트워크 폴더를 지정합니다. 이 파일에는이 마법사를 사용 하 여 지정한 설정에 따라 OS 이미지가 포함 됩니다. 기존를 포함 하는 폴더를 지정 하는 경우 WIM 파일을 덮어씁니다.  

    - **설명**, **버전** 및 **만든 사람**: 선택적으로, 캡처할 이미지에 대한 세부 정보를 제공합니다.  

    - **운영 체제 이미지 캡처 계정**: 지정한 네트워크 공유에 대한 권한이 있는 Windows 계정을 지정합니다. **설정**을 선택하여 해당 Windows 계정의 이름을 지정합니다.  

**확인** 을 선택 하 여 변경 내용을 저장 하 고 작업 순서 편집기를 닫습니다.  

다음 방법 중 하나로 참조 컴퓨터에 작업 순서를 배포합니다.  

- 참조 컴퓨터가 구성 관리자 클라이언트인 경우 참조 컴퓨터가 포함된 컬렉션에 캡처 작업 순서를 배포할 수 있습니다. 자세한 내용은 [Deploy a task sequence](/sccm/osd/deploy-use/deploy-a-task-sequence)항목을 참조하세요.

- 참조 컴퓨터가 구성 관리자 클라이언트가 아닌 경우 또는 참조 컴퓨터에서 작업 순서를 수동으로 실행하려는 경우 **작업 순서 미디어 만들기 마법사**를 실행하여 캡처 미디어를 만듭니다. 자세한 내용은 [미디어 캡처 만들기](/sccm/osd/deploy-use/create-capture-media)를 참조하세요.  

이미지를 캡처한 후에는 다른 컴퓨터에 배포할 수 있습니다. 캡처한 OS 이미지를 배포 하는 방법에 대 한 자세한 내용은 [운영 체제를 설치 하는 작업 순서 만들기](/sccm/osd/deploy-use/create-a-task-sequence-to-install-an-operating-system)를 참조 하세요.

## <a name="BKMK_BuildandCaptureTSExample"></a>작업 순서 예

OS 이미지를 만들고 캡처하는 작업 순서를 만드는 동안 다음 표를 가이드로 사용합니다. 이 표는 작업 순서 단계에 대한 일반적인 순서 및 해당 단계를 논리 그룹으로 구성하는 방법을 결정하는 데 도움이 됩니다. 만드는 작업 순서는이 샘플과 다를 수 있습니다. 여기에는 단계와 그룹이 더 적거나 적을 수 있습니다.

> [!NOTE]  
> 이러한 유형의 작업 순서를 만들려면 항상 작업 순서 만들기 마법사를 사용합니다.
>
> 마법사는 동일한 단계를 수동으로 추가 하는 경우 표시 되는 이름과 약간 다른 이름을 사용 하 여 작업 순서에 단계를 추가 합니다.

### <a name="group-build-the-reference-machine"></a>그룹: 참조 컴퓨터 만들기

이 그룹에는 참조 컴퓨터를 빌드하는 데 필요한 작업이 포함됩니다.

|작업 순서 단계|설명|  
|-------------------------------|---------------|  
|**Windows PE에서 다시 시작**|작업 순서에 할당 된 부팅 이미지에 대 한 대상 컴퓨터를 다시 시작 합니다. 이 단계에서는 설치를 계속할 수 있도록 컴퓨터를 다시 시작한다는 메시지를 사용자에게 표시합니다.<br /><br />이 단계에서는 읽기 전용 `_SMSTSInWinPE` 작업 순서 변수를 사용 합니다. 연결된 값이 `false`인 경우 작업 순서 단계가 진행됩니다.|
|**디스크 0 파티션 – BIOS**|BIOS 모드에서 대상 컴퓨터의 하드 드라이브를 분할 하 고 포맷 합니다. 기본 디스크 번호는 `0`입니다.<br /><br />이 단계에서는 몇 가지 읽기 전용 작업 순서 변수를 사용 합니다. 예를 들어 Configuration Manager 클라이언트 캐시가 존재 하지 않는 경우에만 실행 되 고 UEFI 용으로 컴퓨터를 구성한 경우에는 실행 되지 않습니다.|
|**디스크 0 파티션 – UEFI**|UEFI 모드에서 대상 컴퓨터의 하드 드라이브를 분할 하 고 포맷 합니다. 기본 디스크 번호는 `0`입니다.<br /><br />이 단계에서는 몇 가지 읽기 전용 작업 순서 변수를 사용 합니다. 예를 들어 Configuration Manager 클라이언트 캐시가 존재 하지 않는 경우에만 실행 되 고 UEFI 용으로 컴퓨터를 구성한 경우에만 실행 됩니다.|
|**운영 체제 적용**|지정 된 OS 이미지를 대상 컴퓨터에 설치 합니다. 이 단계에서는 먼저 Configuration Manager 관련 제어 파일이 아닌, 해당 볼륨에 있는 모든 파일을 삭제합니다. 그런 다음, WIM 파일에 포함된 모든 볼륨 이미지를 대상 컴퓨터의 해당 순차적 디스크 볼륨에 적용합니다.|
|**Windows 설정 적용**|대상 컴퓨터의 Windows 설정을 구성합니다.|
|**네트워크 설정 적용**|대상 컴퓨터에 대한 네트워크 또는 작업 그룹 구성 정보를 지정합니다.|
|**디바이스 드라이버 적용**|이 OS 배포의 일부로 드라이버를 일치 시키고 설치 합니다. 자세한 내용은 [드라이버 자동 적용](/sccm/osd/understand/task-sequence-steps#BKMK_AutoApplyDrivers)을 참조하세요.<br /><br />이 단계에서는 읽기 전용 `_SMSTSMediaType` 작업 순서 변수를 사용 합니다. 연결 된 값이 `FullMedia`같지 않으면이 단계가 실행 되지 않습니다.|
|**Windows 및 Configuration Manager 설치**|구성 관리자 클라이언트 소프트웨어 설치 Configuration Manager가 설치되고 Configuration Manager 클라이언트 GUID를 등록합니다. 필요한 **설치 속성**을 포함 합니다.|
|**업데이트 설치**|대상 컴퓨터에 소프트웨어 업데이트를 설치 하는 방법을 지정 합니다. 이 단계가 실행될 때까지 적용 가능한 소프트웨어 업데이트에 대해 대상 컴퓨터가 평가되지 않습니다. 이 시점에서 평가는 다른 Configuration Manager 관리 클라이언트와 비슷합니다. 자세한 내용은 [소프트웨어 업데이트 설치](/sccm/osd/understand/install-software-updates)를 참조하세요.<br /><br />이 단계에서는 읽기 전용 `_SMSTSMediaType` 작업 순서 변수를 사용 합니다. 연결 된 값이 `FullMedia`같지 않으면이 단계가 실행 되지 않습니다.|
|**애플리케이션 설치**|참조 컴퓨터에 설치할 응용 프로그램을 지정 합니다.|

### <a name="group-capture-the-reference-machine"></a>그룹: 참조 컴퓨터 캡처

이 그룹에는 참조 컴퓨터를 준비 및 캡처하는 데 필요한 단계가 포함됩니다.

|작업 순서 단계|설명|  
|-------------------------------|---------------|  
|**구성 관리자 클라이언트 준비**|참조 컴퓨터에서 Configuration Manager 클라이언트를 일반화 합니다.|
|**OS 준비**|Sysprep을 실행 하 여 Windows를 일반화 합니다. 그런 다음 컴퓨터를 작업 순서에 지정 된 Windows PE 부팅 이미지로 다시 시작 합니다.|
|**참조 머신 캡처**|지정 된 네트워크 공유 및에 이미지를 캡처합니다. WIM 파일.|

> [!IMPORTANT]
> 참조 컴퓨터에서 이미지를 캡처한 후에는 참조 컴퓨터에서 다른 OS 이미지를 캡처하지 마십시오. 레지스트리 항목은 초기 구성 중에 생성 됩니다. OS 이미지를 캡처할 때마다 새 참조 컴퓨터를 만듭니다. 같은 참조 컴퓨터를 사용 하 여 향후 OS 이미지를 만들려는 경우 먼저 Configuration Manager 클라이언트를 제거한 후 다시 설치 합니다.

## <a name="next-steps"></a>다음 단계

[엔터프라이즈 운영 체제를 배포하는 방법](/sccm/osd/deploy-use/methods-to-deploy-enterprise-operating-systems)
