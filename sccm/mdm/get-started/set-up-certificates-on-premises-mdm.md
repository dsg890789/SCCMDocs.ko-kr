---
title: '인증서 설정 '
titleSuffix: Configuration Manager
description: System Center Configuration Manager에서 온-프레미스 모바일 장치 관리를 위해 신뢰할 수 있는 통신에 대한 인증서를 설정합니다.
ms.date: 03/05/2017
ms.prod: configuration-manager
ms.technology: configmgr-hybrid
ms.topic: conceptual
ms.assetid: 2a7d7170-1933-40e9-96d6-74a6eb7278e2
author: aczechowski
ms.author: aaroncz
manager: dougeby
ms.openlocfilehash: c538c3b7668cc93069f0805b98f29586c3d7c86c
ms.sourcegitcommit: 0b0c2735c4ed822731ae069b4cc1380e89e78933
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 05/03/2018
---
# <a name="set-up-certificates-for-trusted-communications-for-on-premises-mobile-device-management-in-system-center-configuration-manager"></a>System Center Configuration Manager에서 온-프레미스 모바일 장치 관리를 위해 신뢰할 수 있는 통신에 대한 인증서를 설정합니다

*적용 대상: System Center Configuration Manager(현재 분기)*

System Center Configuration Manager 온\-프레미스 모바일 장치 관리에는 관리 장치와 신뢰할 수 있는 통신을 설정할 등록 지점, 등록 프록시 지점, 배포 지점 및 장치 관리 지점 사이트 시스템 역할이 필요합니다. 이러한 역할 중 하나 이상을 호스트하는 모든 사이트 시스템 서버에는 해당 시스템의 웹 서버에 바인딩된 고유 PKI 인증서가 있어야 합니다. 서버의 인증서와 동일한 루트를 가진 인증서는 대부분 신뢰할 수 있는 통신을 설정하기 위해 관리 장치에도 저장됩니다.  

 도메인에 가입된 장치의 경우 Active Directory 인증서 서비스에서 신뢰할 수 있는 루트를 가진 필요한 인증서를 모든 장치에 자동으로 설치합니다. 도메인에 가입되지 않은 장치의 경우 다른 방법으로 신뢰할 수 있는 루트를 가진 유효한 인증서를 가져와야 합니다. 사이트 CA를 신뢰할 수 있는 루트 (도메인에 가입된 장치에 대해 Active Directory에서 사용하는 것과 동일한 루트)로 사용하는 경우 등록 지점 및 등록 프록시 지점의 사이트 시스템 서버는 해당 서버에 바인딩된 CA에서 발급한 인증서를 갖고 있어야 합니다.  

 관리할 각 장치도 사이트 시스템 역할과의 신뢰할 수 있는 통신을 지원하기 위해 동일한 루트의 인증서를 설치해야 합니다. 대량 등록된 장치의 경우 사용자가 처음으로 장치를 시작할 때 장치를 등록할 수 있도록 장치에 추가된 등록 패키지에 인증서를 포함할 수 있습니다. 사용자가 등록하는 장치의 경우 메일, 웹 다운로드 또는 기타 몇 가지 방법을 통해 인증서를 추가해야 합니다.  

 도메인에 가입되지 않은 장치에 대한 대안으로, 잘 알려진 공용 CA(예: Verisign 또는 GoDaddy)의 루트를 사용하여 서버 인증서를 발급할 수 있습니다. 그렇게 하면 대부분의 장치가 공용 CA의 동일한 루트를 사용하는 서버 연결을 기본적으로 신뢰하기 때문에 장치에 인증서를 수동으로 설치하지 않아도 됩니다. 각 장치의 CA 사이트를 통해 신뢰할 수 있는 인증서를 설치하는 것이 적합하지 않은 사용자가 등록한 장치의 경우 이 방법이 유용합니다.  

> [!IMPORTANT]  
>  장치와 온\-프레미스 모바일 장치 관리용 사이트 시스템 서버 간의 신뢰할 수 있는 통신을 위해 인증서를 설정하는 방법에는 여러 가지가 있습니다. 이 문서의 내용은 설정을 수행하는 한 가지 방법에 대한 예로서 제공됩니다. 이 방법을 사용하려면 Active Directory 인증서 서비스 역할 및 인증 기관 및 인증 기관 웹 등록 역할 서비스를 설치한 사이트에서 서버를 실행해야 합니다. Windows 서버 역할에 대한 정보 및 지침에 대한 자세한 내용은 [Active Directory 인증서 서비스](http://go.microsoft.com/fwlink/p/?LinkId=115018)를 참조하세요.  

 온\-프레미스 모바일 장치 관리에 필요한 SSL 통신을 위해 Configuration Manager 사이트를 설정하려면 다음과 같은 대략적인 단계를 수행합니다.  

-   [CRL 게시에 대한 CA(인증 기관) 구성](#bkmk_configCa)  

-   [CA에서 웹 서버 인증서 템플릿 만들기](#bkmk_certTempl)  

-   [각 사이트 시스템 역할에 대한 웹 서버 인증서 요청](#bkmk_requestCert)  

-   [웹 서버에 인증서 바인딩](#bkmk_bindCert)  

-   [웹 서버 인증서와 동일한 루트를 가진 인증서 내보내기](#bkmk_exportCert)  

##  <a name="bkmk_configCa"></a> CRL 게시에 대한 CA(인증 기관) 구성  
 기본적으로 CA(인증 기관)는 도메인에 가입된 장치에 대한 연결을 허용하는 LDAP 기반 CRL(인증서 해지 목록)을 사용합니다. 도메인에 가입되지 않은 장치를 CA의 인증서 발급으로 신뢰하려면 CA에 HTTP 기반 CRL을 추가해야 합니다. 이 인증서는 Configuration Manager 사이트 시스템 역할을 호스트하는 서버와 온\-프레미스 모바일 장치 관리에 등록된 장치 간의 SSL 통신에 필요합니다.  

 아래의 단계에 따라 도메인에 가입된 장치와 도메인에 가입되지 않은 장치에 대해 신뢰할 수 있는 연결을 허용하는 인증서 발급을 위해 CRL 정보를 자동 게시하도록 CA를 구성합니다.  

1.  사이트에 대한 인증 기관을 실행하는 서버에서 **시작** > **관리 도구** > **인증 기관**을 클릭합니다.  

2.  인증 기관 콘솔에서 **CertificateAuthority**를 마우스 오른쪽 단추로 클릭하고 **속성**을 클릭합니다.  

3.  CertificateAuthority 속성에서 **확장** 탭을 클릭하고, **확장 선택**이 **CDP(CRL 배포 지점)** 로 설정되었는지 확인합니다.  

4.  **http://<ServerDNSName\>/CertEnroll/<CAName\><CRLNameSuffix\><DeltaCRLAllowed\>.crl**을 선택합니다. 아래의 세 가지 옵션을 지정합니다.  

    -   **CRL에 포함. 클라이언트에서 델타 CRL 위치를 찾도록 해줍니다.**  

    -   **발급된 인증서의 CDP 확장에 포함**  

    -   **발급된 CRL의 IDP 확장에 포함**  

5.  **끝내기 모듈** 탭, **속성...** 을 차례로 클릭하고 **인증서를 파일 시스템에 게시할 수 있음**을 선택합니다.  

6.  Active Directory 인증서 서비스를 다시 시작해야 한다는 메시지가 표시되면 **확인**을 클릭합니다.  

7.  **해지된 인증서**를 마우스 오른쪽 단추로 클릭하고 **모든 작업**과 **게시**를 차례로 클릭합니다.  

8.  CRL 게시 대화 상자에서 **델타 CRL**을 선택한 후 **확인**을 클릭합니다.  

##  <a name="bkmk_certTempl"></a> CA에서 웹 서버 인증서 템플릿 만들기  
 CA에 새 CRL을 게시한 후 다음 단계는 웹 서버 인증서 템플릿을 만드는 것입니다. 이 템플릿은 등록 지점, 등록 프록시 지점, 배포 지점 및 장치 관리 지점 사이트 시스템 역할을 호스트하는 서버에 대한 인증서를 발급하는 데 필요합니다. 이러한 서버는 사이트 시스템 역할과 등록된 장치 간의 신뢰할 수 있는 통신을 위한 SSL 끝점이 됩니다.    아래 단계에 따라 인증서 템플릿을 만듭니다.  

1.  **ConfigMgr MDM Servers**라는 보안 그룹을 만들고 등록된 장치와 신뢰할 수 있는 통신을 요구하는 사이트 시스템을 실행하는 서버를 포함합니다.  

2.  인증 기관 콘솔에서 **인증서 템플릿**을 마우스 오른쪽 단추로 클릭하고 **관리**를 클릭하여 인증서 템플릿을 클릭합니다.  

3.  결과 창에서 **템플릿 표시 이름** 열의 **웹 서버**가 표시된 항목을 마우스 오른쪽 단추로 클릭하고 **중복된 템플릿**을 클릭합니다.  

4.  **중복된 템플릿** 대화 상자에서 **Windows 2003 Server, Enterprise Edition** 이 선택되어 있는지 확인하고 **확인**을 클릭합니다.  

    > [!IMPORTANT]  
    >  **Windows 2008 Server, Enterprise Edition**은 선택하지 마십시오. Configuration Manager에서는 HTTPS를 사용하여 신뢰할 수 있는 통신에 대한 Windows Server 2008 인증서 템플릿을 지원하지 않습니다.  

    > [!NOTE]  
    >  사용 중인 CA가 Windows Server 2012에 있는 경우 **템플릿 복제**를 클릭할 때 인증서 템플릿 버전을 묻지 않습니다. 대신 템플릿 속성의 **호환성** 탭에서 이 버전을 다음과 같이 지정하세요.  
    >   
    >  **인증 기관**: **Windows Server 2003**  
    >   
    >  **인증서 받는 사람**: **Windows XP / Server 2003**  

5.  **새 템플릿의 속성** 대화 상자의 **일반** 탭에서 Configuration Manager 사이트 시스템에서 사용할 웹 인증서를 생성할 템플릿 이름(예: **ConfigMgr MDM Web Server**)을 입력합니다.  

6.  **주체 이름** 탭을 클릭하고 **Active Directory 정보에서 생성**을 선택하고 주체 이름 형식으로 **DNS 이름**을 선택합니다. **UPN(사용자 계정 이름)** 을 선택한 경우 대체 주체 이름에서 확인란을 선택 취소합니다.  

7.  **보안** 탭을 클릭하고 **Domain Admins** 및 **Enterprise Admins** 보안 그룹에서 **등록**권한을 제거합니다.  

8.  **추가**를 클릭하고 텍스트 상자에 **ConfigMgr MDM Servers**를 입력한 후 **확인**을 클릭합니다.  

9. 이 그룹에 대한 **등록** 권한을 선택하고, **읽기** 권한을 해제하지 않습니다.  

10. **확인**을 클릭하여 인증서 템플릿 콘솔을 닫습니다.  

11. 인증 기관 콘솔에서 **인증서 템플릿**을 마우스 오른쪽 단추로 클릭하고 **새로 만들기**를 클릭한 다음 **발급할 인증서 템플릿**을 클릭합니다.  

12. **인증서 템플릿 사용** 대화 상자에서 방금 만든 새 템플릿 **ConfigMgr MDM Web Server**를 선택하고 **확인**을 클릭합니다.  

##  <a name="bkmk_requestCert"></a> 각 사이트 시스템 역할에 대한 웹 서버 인증서 요청  
 온\-프레미스 모바일 장치 관리에 등록된 장치는 등록 지점, 등록 프록시 지점, 배포 지점 및 장치 관리 지점을 호스트하는 SSL 끝점을 신뢰해야 합니다.  아래 단계에서는 IIS의 웹 서버 인증서를 요청하는 방법을 설명합니다. 온\-프레미스 모바일 장치 관리에 필요한 사이트 시스템 역할 중 하나를 호스트하는 각 서버(SSL 끝점)에 대해 이 작업을 수행해야 합니다.  

1.  기본 사이트 서버에서, 관리자 권한으로 명령 프롬프트를 열고 **MMC**를 입력하고 **Enter** 키를 누릅니다.  

2.  MMC에서 **파일** > **스냅인 추가/제거**를 클릭합니다.  

3.  인증서 스냅인에서 **인증서**를 선택하고, **추가**를 클릭하고, **컴퓨터 계정**을 선택하고, **다음**, **마침**, **확인**을 차례로 클릭하여 스냅인 추가/제거 창을 닫습니다.  

4.  **개인용**을 마우스 오른쪽 단추로 클릭하고 **모든 작업** > **새 인증서 요청**을 클릭합니다.  

5.  인증서 등록 마법사에서 **다음**을 클릭하고, **Active Directory 등록 정책**을 선택하고 **다음**을 클릭합니다.  

6.  웹 서버 인증서(**ConfigMgr MDM Web Server**) 옆에 있는 확인란을 선택한 후 **등록**을 클릭합니다.  

7.  인증서를 등록한 후 **마침**을 클릭합니다.  

 각 서버에서 고유한 웹 서버 인증서를 필요로 하므로 온\-프레미스 모바일 장치 관리의 필요한 사이트 시스템 역할 중 하나를 호스트하는 모든 서버에 대해 이 프로세스를 반복해야 합니다.  한 서버에서 모든 사이트 시스템 역할을 호스트하는 경우 웹 서버 인증서를 하나만 요청하면 됩니다.  

##  <a name="bkmk_bindCert"></a> 웹 서버에 인증서 바인딩  
 이제, 온\-프레미스 모바일 장치 관리에 필요한 사이트 시스템 역할을 호스트하는 각 사이트 시스템 서버의 웹 서버에 새 인증서를 바인딩해야 합니다. 등록 지점 및 등록 프록시 지점 사이트 시스템 역할을 호스트하는 각 서버에 대해 아래 단계를 따르세요. 한 서버에서 모든 사이트 시스템 역할을 호스트하는 경우 다음 단계를 한 번만 수행하면 됩니다. 등록하는 동안 배포 지점 및 장치 관리 지점 사이트 시스템 역할에서 필요한 인증서를 자동으로 받게 되므로 이런 항목에 대해서는 이 작업을 수행할 필요가 없습니다.  

1.  등록 지점, 등록 프록시 지점, 배포 지점 또는 장치 관리 지점을 호스트하는 서버에서 **시작** > **관리 도구** > **IIS 관리자**를 클릭합니다.  

2.  연결에서 **기본 웹 사이트**로 이동하여 마우스 오른쪽 단추로 클릭한 후 **바인딩 편집...** 을 클릭합니다.  

3.  사이트 바인딩 대화 상자에서 **https**, **편집...** 을 차례로 클릭합니다.  

4.  사이트 바인딩 편집 대화 상자에서, **SSL 인증서**에 대해 등록한 인증서를 선택하고, **확인**과 **닫기**를 차례로 클릭합니다.  

5.  IIS 관리자 콘솔의 연결에서 웹 서버를 선택하고 오른쪽 작업 패널에서 **다시 시작**을 클릭합니다.  

##  <a name="bkmk_exportCert"></a> 웹 서버 인증서와 동일한 루트를 가진 인증서 내보내기  
 Active Directory 인증서 서비스는 일반적으로 필요한 CA의 인증서를 도메인에 가입된 모든 장치에 설치합니다. 하지만 도메인에 가입되지 않은 장치에서는 루트 CA의 인증서가 없는 사이트 시스템 역할과 통신할 수 없습니다. 사이트 시스템 역할과 통신하는 장치에 필요한 인증서를 가져오려면 웹 서버에 바인딩된 인증서에서 내보낼 수 있습니다.  

 다음 단계를 수행하여 웹 서버 인증서의 루트 인증서를 내보냅니다.  

1.  IIS 관리자에서 **기본 웹 사이트**를 클릭한 후 오른쪽 작업 패널에서 **바인딩...** 을 클릭합니다.  

2.  사이트 바인딩 대화 상자에서 **https**, **편집...** 을 차례로 클릭합니다.  

3.  웹 서버 인증서를 선택했는지 확인하고 **보기...** 를 클릭합니다.  

4.  웹 서버 인증서의 속성에서 **인증 경로**, 인증 경로 맨 위에 있는 루트, **인증서 보기**를 차례로 클릭합니다.  

5.  루트 인증서의 속성에서 **세부 정보**, **파일에 복사...** 를 차례로 클릭합니다.  

6.  인증서 내보내기 마법사에서 **다음**을 클릭합니다.  

7.  **DER로 인코딩된 바이너리 X.509(.CER)** 가 선택되어 있는지 확인하고 **다음**을 클릭합니다.  

8.  파일 이름에 대해 **찾아보기...** 를 클릭하고 인증서 파일을 저장할 위치를 선택한 다음 파일 이름을 지정하고 **저장**을 클릭합니다.  

     등록할 장치에서 루트 인증서를 가져오기 위해 이 파일에 액세스해야 하므로, 대부분의 컴퓨터 및 장치에서 액세스할 수 있는 공통 위치를 선택하거나 지금 편리한 위치(예: C 드라이브)에 저장한 후 나중에 공통 위치로 이동할 수 있습니다.  

     **다음**을 클릭합니다.  

9. 설정을 확인하고 **마침**을 클릭합니다.  
