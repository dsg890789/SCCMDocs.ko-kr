---
title: 파일 기반 복제
titleSuffix: Configuration Manager
description: Configuration Manager가 파일 기반 복제를 사용하여 계층 내의 사이트 간에 데이터를 전송하는 방법을 알아봅니다.
ms.date: 08/09/2019
ms.prod: configuration-manager
ms.technology: configmgr-other
ms.topic: conceptual
ms.assetid: 65fcc1a8-214e-4dd9-8093-de4cd4a00442
author: mestew
ms.author: mstewart
manager: dougeby
ms.collection: M365-identity-device-management
ms.openlocfilehash: 685dd1cf6ad0bdea6e6c4aca756a47016cc419b6
ms.sourcegitcommit: 6b5a003256305c1f0cb605e52aeaaf19c23af5a9
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/12/2019
ms.locfileid: "68957893"
---
# <a name="file-based-replication"></a>파일 기반 복제

*적용 대상: System Center Configuration Manager(현재 분기)*

Configuration Manager는 파일 기반 복제를 사용하여 계층 내의 사이트 간에 파일 기반 데이터를 전송합니다. 이 데이터에는 하위 사이트의 배포 지점에 배포하려는 애플리케이션과 패키지가 포함됩니다. 또한 사이트에서 상위 사이트로 전송한 후 처리하는 미처리 검색 데이터 기록도 처리합니다.  

사이트 간의 파일 기반 통신에서는 TCP/IP 포트 445를 통해 SMB(*서버 메시지 블록*) 프로토콜을 사용합니다. 네트워크 전역에서 사이트가 전송하는 데이터의 양을 제어하려면 대역폭 제한과 펄스 모드를 지정합니다. 일정을 사용하여 네트워크에서 데이터를 전송할 시점을 제어합니다.  

## <a name="bkmk_routes"></a> 경로

다음에는 파일 복제 경로를 설정 및 사용하는 데 유용한 정보가 정리되어 있습니다.  

### <a name="file-replication-route"></a>파일 복제 경로

각 파일 복제 경로는 사이트가 파일 기반 데이터를 전송하는 대상 사이트를 식별합니다. 각 사이트는 특정 대상 사이트로의 단일 파일 복제 경로를 지원합니다.  

파일 복제 경로를 관리하려면 **관리** 작업 영역으로 이동합니다. **계층 구성** 노드를 확장한 후 **파일 복제**를 선택합니다.  

파일 복제 경로에 대해 다음 설정을 변경할 수 있습니다.  

#### <a name="file-replication-account"></a>파일 복제 계정

이 계정은 대상 사이트에 연결하고 해당 사이트의 **SMS_Site** 공유에 데이터를 씁니다. 이 공유에 기록되는 데이터는 수신 사이트에 의해 처리됩니다. 기본적으로, 계층에 사이트가 추가되면 Configuration Manager는 새 사이트 서버의 컴퓨터 계정을 해당 사이트의 파일 복제 계정으로서 할당합니다. 그런 다음 이 계정을 대상 사이트의 `SMS_SiteToSiteConnection_<sitecode>` 그룹에 추가합니다. 이 그룹은 SMS_Site 공유 액세스 권한을 부여하는 컴퓨터의 로컬 그룹입니다. 이 계정을 Windows 사용자 계정으로 변경할 수 있습니다. 계정을 변경하는 경우 새 계정을 대상 사이트의 `SMS_SiteToSiteConnection_<sitecode>` 그룹에 추가해야 합니다.  

> [!NOTE]  
> 보조 사이트는 항상 보조 사이트 서버의 컴퓨터 계정을 **파일 복제 계정**으로 사용합니다.  

#### <a name="schedule"></a>일정

각 파일 복제 경로의 일정을 설정합니다. 이 작업은 데이터의 유형과 데이터를 대상 사이트로 전송할 수 있는 시간을 제한합니다.  

#### <a name="rate-limits"></a>속도 제한

각 파일 복제 경로의 속도 제한을 설정합니다. 이 작업은 사이트가 대상 사이트로 데이터를 전송할 때 사용하는 네트워크 대역폭을 제어합니다.  

- **펄스 모드**: 사이트에서 대상 사이트로 전송되는 데이터 블록의 크기를 지정합니다. 또한 각 데이터 블록 전송 간의 시간 지연을 지정할 수도 있습니다. 이 옵션은 낮은 대역폭의 네트워크 연결을 통해 데이터를 대상 사이트로 전송해야 하는 경우에 사용합니다.

    예를 들어 데이터 전송을 매 3초마다 1KB가 아닌 매 5초마다 1KB로 제한할 수 있습니다. 이 제약 조건은 링크의 속도나 특정 시간의 사용량에 관계 없이 적용됩니다.

- **시간별 최대 전송 속도로 제한**: 사이트에서 지정된 시간의 비율만을 토대로 데이터를 대상 사이트로 전송합니다. Configuration Manager에서 네트워크의 사용 가능한 대역폭을 확인하지 않습니다. 데이터를 보낼 수 있는 시간을 세부적으로 나눕니다. 그런 다음, 데이터가 한 블록의 시간 내에 전송되고, 전송되지 않은 경우 여러 시간 블록들이 이어집니다.

    예를 들어 최대 비율이 **50%** 로 설정되었다고 가정해 보겠습니다. Configuration Manager는 그 시간에 데이터를 전송하고, 데이터가 전송되지 않은 경우 동일한 시간만큼 다시 전송됩니다. 전송하는 데이터 블록의 실제 크기는 관리하지 않습니다. 사이트는 데이터를 보내는 데 걸리는 시간만 관리합니다.  

    > [!CAUTION]  
    > 기본적으로, 사이트는 **동시 발신 항목 수** 를 최대 3개까지 사용하여 데이터를 대상 사이트로 전송할 수 있습니다. 파일 복제 경로에 속도 제한을 사용하는 경우 해당 사이트에 대한 **동시 발신 항목 수**는 1개로 제한됩니다. 이 동작은 **사용 가능한 대역폭 제한 (%)** 이 **100%** 로 설정된 경우에도 마찬가지입니다. 예를 들어 발신자의 기본 설정을 사용하는 경우 이는 기본 용량의 1/3이 되도록 대상 사이트에 대한 전송 속도를 낮춥니다.  

#### <a name="routes-between-secondary-sites"></a>보조 사이트 간 경로

두 보조 사이트 간에 파일 복제 경로를 구성하여 두 사이트 간에 파일 기반 콘텐츠를 라우팅합니다.  


### <a name="sender"></a>발신자

각 사이트에는 하나의 발신자가 있습니다. 발신자는 한 사이트에서 대상 사이트로의 네트워크 연결을 관리합니다. 동시에 여러 사이트에 대한 연결을 설정할 수 있습니다. 발신자는 파일 복제 경로를 사용하여 사이트에 연결하고, 네트워크 연결 설정에 사용할 계정을 식별합니다. 또한 발신자는 이 계정을 사용하여 데이터를 대상 사이트의 SMS_Site 공유에 씁니다.  

기본적으로 발신자는 여러 **동시 발신** 또는 *스레드*를 사용하여 대상 사이트에 데이터를 씁니다. 각 스레드는 다양한 파일 기반 개체를 대상 사이트에 전송할 수 있습니다. 발신자는 개체를 보낼 때 전체 개체를 보낼 때까지 해당 개체에 대한 데이터 블록을 계속 씁니다. 개체에 대한 데이터를 모두 보내면 새 개체는 해당 스레드에서 보내기를 시작할 수 있습니다.  

사이트의 발신자를 관리하려면 **관리** 작업 영역으로 이동하여 **사이트 구성** 노드를 펼칩니다. **사이트** 노드를 선택한 다음 관리하려는 사이트의 **속성**을 선택합니다. **보낸 사람** 탭으로 전환하여 발신자 설정을 변경합니다.  

발신자에 대해 다음 설정을 변경할 수 있습니다.  

#### <a name="maximum-concurrent-sendings"></a>최대 동시 발신 항목 수

각 사이트에서는 기본적으로 5개의 동시 발신 항목(스레드)을 사용합니다. 3개의 스레드는 데이터를 대상 사이트 한 곳에 전송할 때 사용할 수 있습니다. 이 수를 늘리면 사이트 간 데이터 처리량도 증가합니다. 스레드가 많을 수록 Configuration Manager는 동시에 더 많은 파일을 전송할 수 있습니다. 또한 이 수를 늘리면 사이트 간 네트워크 대역폭 요구량도 증가합니다.  

#### <a name="retry-settings"></a>다시 시도 설정

기본적으로 각 사이트는 연결에 실패하면 1분의 간격을 두고 두 번에 걸쳐 연결을 다시 시도합니다. 사이트에서 수행하는 연결 시도의 횟수와 각 시도 간 대기 간격을 수정할 수 있습니다.  


## <a name="next-steps"></a>다음 단계

[Database replication](/sccm/core/plan-design/hierarchy/database-replication)
