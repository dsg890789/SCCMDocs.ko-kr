---
title: 검색 방법
titleSuffix: Configuration Manager
description: 네트워크, Active Directory 또는 Azure Active Directory에서 디바이스를 찾을 때 사용할 수 있는 검색 방법을 알아봅니다.
ms.date: 03/22/2018
ms.prod: configuration-manager
ms.technology: configmgr-other
ms.topic: conceptual
ms.assetid: ed931751-18f2-4230-a09e-a0a329fbfa1c
author: mestew
ms.author: mstewart
manager: dougeby
ms.collection: M365-identity-device-management
ms.openlocfilehash: 21183b620b8161056377bb7fc6e86bde79f31767
ms.sourcegitcommit: 1bccb61bf3c7c69d51e0e224d0619c8f608e8777
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 12/05/2019
ms.locfileid: "68860073"
---
# <a name="about-discovery-methods-for-system-center-configuration-manager"></a>System Center Configuration Manager에 대한 검색 방법 정보

*적용 대상: System Center Configuration Manager(현재 분기)*

Configuration Manager 검색 방법은 네트워크에서 다양한 디바이스를 찾거나, Active Directory에서 디바이스 및 사용자를 찾거나, Azure AD(Azure Active Directory)에서 사용자를 찾을 수 있습니다. 검색 방법을 효율적으로 사용하려면 사용 가능한 구성 및 제한 사항을 이해해야 합니다.  



##  <a name="bkmk_aboutForest"></a> Active Directory 포리스트 검색  
 **구성 가능 여부:** 예  

 **기본적으로 사용하도록 설정됨:** 아니요  

 이 방법을 실행하는 데 사용할 수 있는 **계정**은 다음과 같습니다.  

-   **Active Directory 포리스트 검색 계정**(사용자 정의)  

-   사이트 서버의 **컴퓨터 계정**  

다른 Active Directory 검색 방법과 달리, Active Directory 포리스트 검색은 관리할 수 있는 리소스를 검색하지 않습니다. 대신, 이 메서드는 Active Directory에 구성된 네트워크 위치를 검색합니다. 이러한 위치를 계층 전체에서 사용할 경계로 변환할 수 있습니다.  

이 방법을 실행하면 로컬 Active Directory 포리스트, 신뢰할 수 있는 각 포리스트 및 Configuration Manager 콘솔의 **Active Directory 포리스트** 노드에 구성하는 각 추가 포리스트를 검색합니다.  

다음 작업에 Active Directory 포리스트 검색을 사용합니다.  

-   Active Directory 사이트 및 서브넷을 검색한 다음 해당 네트워크 위치에 따라 Configuration Manager 경계를 만듭니다.  

-   Active Directory 사이트에 할당된 슈퍼넷을 식별합니다. 각 슈퍼넷을 IP 주소 범위 경계로 변환합니다.  

-   포리스트에 게시하도록 설정된 경우 해당 포리스트의AD DS(Active Directory Domain Services)에 게시합니다. 지정된 Active Directory 포리스트 계정에 해당 포리스트에 대한 권한이 있어야 합니다.  

Configuration Manager 콘솔에서 Active Directory 포리스트 검색을 관리할 수 있습니다. **관리** 작업 영역으로 이동하여 **계층 구성**을 확장합니다.   

-   **검색 방법**: Active Directory 포리스트 검색이 계층의 상위 사이트에서 실행되도록 설정합니다. 검색을 실행하는 간단한 일정을 지정할 수도 있습니다. 검색되는 IP 서브넷과 Active Directory 사이트에서 자동으로 경계를 만들도록 구성합니다. Active Directory 포리스트 검색은 자식 기본 사이트 또는 보조 사이트에서 실행할 수 없습니다.  

-   **Active Directory 포리스트**: 검색할 추가 포리스트를 구성하고, 각 Active Directory 포리스트 계정을 지정하고, 각 포리스트에 대한 게시를 구성합니다. 검색 프로세스를 모니터링합니다. IP 서브넷 및 Active Directory 사이트를 Configuration Manager 경계 및 경계 그룹의 멤버로 추가합니다.  

계층 내 각 사이트에 대한 Active Directory 포리스트에 게시를 구성하려면 Configuration Manager 콘솔을 계층의 최상위 사이트에 연결합니다. Active Directory 사이트 **속성** 대화 상자의 **게시** 탭에는 현재 사이트 및 자식 사이트만 표시됩니다. 포리스트에 게시를 사용하도록 설정되어 있고 Configuration Manager를 위해 포리스트 스키마가 확장된 경우 Active Directory 포리스트에 게시하도록 설정된 각 사이트에 대해 다음 정보가 게시됩니다.  

-    **SMS-Site-&lt;사이트 코드>**

-   **SMS-MP-&lt;사이트 코드>-&lt;사이트 시스템 서버 이름>**  

-   **SMS-SLP-&lt;사이트 코드>-&lt;사이트 시스템 서버 이름>**  

-   **SMS-&lt;사이트 코드>-&lt;Active Directory 사이트 이름 또는 서브넷>**  

> [!NOTE]  
>  보조 사이트에서는 Active Directory에 게시하는 데 항상 보조 사이트 서버 컴퓨터 계정을 사용합니다. 보조 사이트에서 Active Directory에 게시하려면 보조 사이트 서버 컴퓨터 계정에 Active Directory 게시 권한이 있어야 합니다. 보조 사이트에서는 트러스트되지 않은 포리스트에 데이터를 게시할 수 없습니다.  

> [!CAUTION]  
>  Active Directory 포리스트에 사이트를 게시하는 옵션을 선택 취소하면 해당 사이트에 대해 이전에 게시된 모든 정보(사용 가능한 사이트 시스템 역할 포함)가 Active Directory에서 제거됩니다.  

Active Directory 포리스트 검색 작업은 다음 로그에 기록됩니다.  

-   게시와 관련된 작업을 제외한 모든 작업은 사이트 서버의 **&lt;InstallationPath>\Logs** 폴더에 있는 **ADForestDisc.Log** 파일에 기록됩니다.  

-   Active Directory 포리스트 검색 게시 작업은 사이트 서버에 있는 **&lt;InstallationPath>\Logs** 폴더의 **hman.log** 및 **sitecomp.log** 파일에 기록됩니다.  

이 검색 방법을 구성하는 방법에 대한 자세한 내용은 [검색 방법 구성](/sccm/core/servers/deploy/configure/configure-discovery-methods#BKMK_ConfigADForestDisc)을 참조하세요.  



##  <a name="bkmk_aboutGroup"></a> Active Directory 그룹 검색  
**구성 가능 여부:** 예  

**기본적으로 사용하도록 설정됨:** 아니요  

이 방법을 실행하는 데 사용할 수 있는 **계정**은 다음과 같습니다.  

-   **Active Directory 그룹 검색 계정**(사용자 정의)  

-   사이트 서버의 **컴퓨터 계정**  

> [!TIP]  
>  이 섹션의 정보 외에 [Active Directory 그룹, 시스템 및 사용자 검색의 일반적인 기능](#bkmk_shared)을 참조하세요.  

이 방법으로 Active Directory Domain Services를 검색하여 다음 정보를 확인합니다.  

-   로컬, 글로벌 및 유니버설 보안 그룹  

-   그룹의 멤버 자격  

-   그룹 구성원 컴퓨터와 사용자에 대한 제한된 정보. 이전에 다른 검색 방법으로 이러한 컴퓨터와 사용자를 검색하지 못한 경우에도 찾을 수 있습니다.  

이 검색 방법은 그룹과 그룹 구성원의 그룹 관계를 파악하는 데 사용됩니다. 기본적으로 보안 그룹만 검색됩니다. 배포 그룹의 멤버 자격도 찾으려면 **Active Directory 그룹 검색 속성** 대화 상자의 **옵션** 탭에서 **배포 그룹의 멤버 자격 검색** 옵션 확인란을 선택해야 합니다.  

Active Directory 그룹 검색은 Active Directory 시스템 검색 또는 Active Directory 사용자 검색을 사용하여 파악할 수 있는 확장된 Active Directory 특성은 지원하지 않습니다. 이 검색 방법은 컴퓨터와 사용자 리소스를 검색하도록 최적화되어 있지 않으므로 Active Directory 시스템 검색과 Active Directory 사용자 검색을 실행한 후에 이 검색 방법을 실행해야 합니다. 이 방법을 통해 그룹에 대해서는 전체 DDR(검색 데이터 레코드)이 만들어지지만 그룹 구성원인 컴퓨터와 사용자에 대해서는 제한된 DDR만 만들어지기 때문입니다.  

이 방법이 정보를 검색하는 방식을 제어하는 다음과 같은 검색 범위를 구성할 수 있습니다.  

-   **위치**: 하나 이상의 Active Directory 컨테이너를 검색하려면 위치를 사용합니다. 이 범위 옵션은 지정된 Active Directory 컨테이너의 재귀 검색을 지원합니다. 이 프로세스는 사용자가 지정하는 컨테이너에서 각 자식 컨테이너를 검색합니다. 이 프로세스는 자식 컨테이너가 더 이상 검색되지 않을 때까지 계속됩니다.  

-   **그룹**: 하나 이상의 특정 Active Directory 그룹을 검색하려면 그룹을 사용합니다. 기본 도메인 및 포리스트를 사용하도록 **Active Directory 도메인**을 구성하거나, 개별 도메인 컨트롤러로 검색을 제한할 수 있습니다. 또한 검색할 그룹을 하나 이상 지정할 수 있습니다. 하나 이상의 그룹을 지정하지 않을 경우 지정된 **Active Directory 도메인** 위치에 있는 모든 그룹이 검색됩니다.  

> [!CAUTION]  
>  검색 범위를 구성하는 경우 검색할 그룹만 선택합니다. 이렇게 권장하는 이유는 Active Directory 그룹 검색이 검색 범위에서 각 그룹의 각 구성원을 검색하기 때문입니다. 대규모 그룹의 검색을 위해서는 대역폭과 Active Directory 리소스를 많이 사용해야 할 수 있습니다.  

> [!NOTE]  
>  확장된 Active Directory 특성을 기반으로 하는 컬렉션을 만들고 컴퓨터와 사용자에 대한 정확한 검색 결과를 보장할 수 있으려면 먼저 검색하려는 항목에 따라 Active Directory 시스템 검색 또는 Active Directory 사용자 검색을 실행합니다.  

Active Directory 그룹 검색 작업은 사이트 서버에 있는 **&lt;InstallationPath\>\LOGS** 폴더의 **adsgdis.log** 파일에 기록됩니다.  

이 검색 방법을 구성하는 방법에 대한 자세한 내용은 [검색 방법 구성](/sccm/core/servers/deploy/configure/configure-discovery-methods#BKMK_ConfigADDiscGeneral)을 참조하세요.  



##  <a name="bkmk_aboutSystem"></a> Active Directory 시스템 검색  
**구성 가능 여부:** 예  

**기본적으로 사용하도록 설정됨:** 아니요  

이 방법을 실행하는 데 사용할 수 있는 **계정**은 다음과 같습니다.  

-   **Active Directory 시스템 검색 계정**(사용자 정의)  

-   사이트 서버의 **컴퓨터 계정**  

> [!TIP]  
>  이 섹션의 정보 외에 [Active Directory 그룹, 시스템 및 사용자 검색의 일반적인 기능](#bkmk_shared)을 참조하세요.  

이 검색 방법을 통해 컬렉션과 쿼리를 만드는 데 사용할 수 있는 컴퓨터 리소스의 지정된 Active Directory Domain Services 위치를 검색할 수 있습니다. 또한 클라이언트 강제 설치를 사용하여 검색된 디바이스에 Configuration Manager 클라이언트를 설치할 수도 있습니다.  

기본적으로 이 방법은 다음 특성을 포함하여 컴퓨터에 대한 기본 정보를 검색합니다.  

-   컴퓨터 이름  

-   운영 체제 및 버전  

-   Active Directory 컨테이너 이름  

-   IP 주소  

-   Active Directory 사이트  

-   마지막 로그온 타임스탬프  

컴퓨터에 대한 DDR을 성공적으로 만들려면 Active Directory 시스템 검색에서 컴퓨터 계정을 식별한 다음 컴퓨터 이름을 IP 주소로 확인할 수 있어야 합니다.  

**Active Directory 시스템 검색 속성** 대화 상자의 **Active Directory 특성** 탭에서는 검색되는 기본 개체 특성의 전체 목록을 볼 수 있습니다. 추가(확장된) 특성을 검색하도록 방법을 구성할 수도 있습니다.  

Active Directory 시스템 검색 작업은 사이트 서버에 있는 **&lt;InstallationPath\>\LOGS** 폴더의 **adsysdis.log** 파일에 기록됩니다.  

이 검색 방법을 구성하는 방법에 대한 자세한 내용은 [검색 방법 구성](/sccm/core/servers/deploy/configure/configure-discovery-methods#BKMK_ConfigADDiscGeneral)을 참조하세요.  



##  <a name="bkmk_aboutUser"></a> Active Directory 사용자 검색  
**구성 가능 여부:** 예  

**기본적으로 사용하도록 설정됨:** 아니요  

이 방법을 실행하는 데 사용할 수 있는 **계정**은 다음과 같습니다.  

-   **Active Directory 사용자 검색 계정**(사용자 지정)  

-   사이트 서버의 **컴퓨터 계정**  

> [!TIP]  
>  이 섹션의 정보 외에 [Active Directory 그룹, 시스템 및 사용자 검색의 일반적인 기능](#bkmk_shared)을 참조하세요.  

이 검색 방법을 통해 Active Directory Domain Services를 검색하여 사용자 계정 및 관련 특성을 파악할 수 있습니다. 기본적으로 이 방법은 다음 특성을 포함하여 사용자 계정에 대한 기본 정보를 검색합니다.  

-   사용자 이름  

-   고유한 사용자 이름(도메인 이름 포함)  

-   도메인  

-   Active Directory 컨테이너 이름  

**Active Directory 사용자 검색 속성** 대화 상자의 **Active Directory 특성** 탭에서는 검색되는 개체 특성의 전체 기본 목록을 볼 수 있습니다. 추가(확장된) 특성을 검색하도록 방법을 구성할 수도 있습니다.

Active Directory 사용자 검색 작업은 사이트 서버에 있는 **&lt;InstallationPath\>\LOGS** 폴더의 **adusrdis.log** 파일에 기록됩니다.  

이 검색 방법을 구성하는 방법에 대한 자세한 내용은 [검색 방법 구성](/sccm/core/servers/deploy/configure/configure-discovery-methods#BKMK_ConfigADDiscGeneral)을 참조하세요.  



## <a name="azureaddisc"></a> Active Directory 사용자 검색

최신 클라우드 ID가 있는 사용자의 Azure AD 구독을 검색하려면 Azure AD(Azure Active Directory) 사용자 검색을 사용합니다. Azure AD 사용자 검색에서는 다음 특성을 찾을 수 있습니다.

- objectId
- displayName
- mail
- mailNickname
- onPremisesSecurityIdentifier
- userPrincipalName
- AAD tenantID
- onPremisesDomainName
- onPremisesSamAccountName
- onPremisesDistinguishedName

이 메서드는 Azure AD의 사용자 특성 전체 동기화 및 델타 동기화를 지원합니다. 이러한 동기화가 수행된 후에는 이 정보를 다른 검색 방법으로 수집한 검색 데이터와 함께 사용할 수 있습니다.

Azure AD 사용자 검색에 대한 작업은 계층 구조에서 최상위 계층 사이트 서버에 있는 **SMS_AZUREAD_DISCOVERY_AGENT.log** 파일에 기록됩니다.

Azure AD 사용자 검색을 구성하려면 클라우드 관리에 대한 [Azure 서비스 구성](/sccm/core/servers/deploy/configure/Azure-services-wizard)을 참조하세요. 이 검색 방법을 구성하는 방법에 대한 자세한 내용은 [Azure AD 사용자 검색 구성](/sccm/core/servers/deploy/configure/configure-discovery-methods#azureaadisc)을 참조하세요.

## <a name="bkmk_azuregroupdisco"></a>Azure Active Directory 사용자 그룹 검색
<!--3611956-->
*(버전 1906에 [시험판 기능](/sccm/core/servers/manage/pre-release-features)으로 도입)*

이제 Azure AD(Azure Active directory)에서 사용자 그룹 및 해당 그룹의 구성원을 검색할 수 있습니다. Azure AD 사용자 그룹 검색에서는 다음 특성을 찾을 수 있습니다.

- objectId
- displayName
- mailNickname
- onPremisesSecurityIdentifier
- AAD tenantID

Azure AD 사용자 그룹 검색에 대한 작업은 계층 구조에서 최상위 계층 사이트 서버에 있는 **SMS_AZUREAD_DISCOVERY_AGENT.log** 파일에 기록됩니다. 이 검색 방법을 구성하는 방법에 대한 자세한 내용은 [Azure AD 사용자 그룹 검색 구성](/sccm/core/servers/deploy/configure/configure-discovery-methods#bkmk_azuregroupdisco)을 참조하세요.

##  <a name="bkmk_aboutHeartbeat"></a> 하트비트 검색  
**구성 가능 여부:** 예  

**기본적으로 사용하도록 설정됨:** 예  

이 방법을 실행하는 데 사용할 수 있는 **계정**은 다음과 같습니다.  

-   사이트 서버의 **컴퓨터 계정**  

하트비트 검색은 기타 Configuration Manager 검색 방법과는 다릅니다. 기본적으로 설정되어 있으며 사이트 서버가 아닌 각 컴퓨터 클라이언트에서 실행되어 DDR을 만듭니다. 모바일 디바이스 클라이언트의 경우, 이 DDR은 모바일 디바이스 클라이언트에서 사용하는 관리 지점에 의해 만들어집니다. Configuration Manager 클라이언트의 데이터베이스 레코드를 유지하려면 하트비트 검색을 사용하도록 설정해 둡니다. 데이터베이스 레코드 유지 외에도, 이 메서드는 새로운 리소스 레코드로 컴퓨터를 강제 검색할 수 있습니다. 데이터베이스에서 삭제된 컴퓨터의 데이터베이스 레코드를 다시 채울 수도 있습니다.  

하트비트 검색은 계층의 모든 클라이언트에 대해 구성된 일정에 따라 실행됩니다. 하트비트 검색의 기본 일정은 매 7일로 설정되어 있습니다. 하트비트 검색 간격을 변경할 경우 **오래된 검색 데이터 삭제** 사이트 유지 관리 작업보다 하트비트 검색이 더 자주 실행되도록 설정해야 합니다. 이 작업은 사이트 데이터베이스에서 비활성 클라이언트 레코드를 삭제합니다. **오래된 검색 데이터 삭제** 작업은 기본 사이트에 대해서만 구성할 수 있습니다. 

특정 클라이언트에서 하트비트 검색을 수동으로 호출할 수도 있습니다. 클라이언트의 Configuration Manager 제어판에 있는 **작업** 탭에서 **검색 데이터 컬렉션 주기**를 실행합니다.  

하트비트 검색이 실행되면 클라이언트의 현재 정보가 있는 DDR이 만들어집니다. 그런 다음 클라이언트는 기본 사이트에서 처리할 수 있도록 이 작은 파일(약 1KB의 크기)을 관리 지점에 복사합니다. 파일에는 다음 정보가 들어 있습니다.  

-   네트워크 위치  

-   NetBIOS 이름  

-   클라이언트 에이전트의 버전  

-   작업 상태 세부 정보  

하트비트 검색은 클라이언트 설치 상태에 대한 세부 정보를 제공하는 유일한 검색 방법입니다. **예**와 일치하는 값을 설정하도록 시스템 리소스 클라이언트 특성을 업데이트하여 수행합니다.  

> [!NOTE]  
>  하트비트 검색이 사용하지 않도록 설정되더라도 DDR은 활성 모바일 디바이스 클라이언트에 대해 계속 만들어지고 제출됩니다. 이 동작은 **오래된 검색 데이터 삭제** 작업이 활성 모바일 디바이스에 영향을 주지 않도록 방지합니다. **오래된 검색 데이터 삭제** 작업을 통해 모바일 디바이스에 대한 데이터베이스 레코드가 삭제되면 디바이스 인증서도 해지됩니다. 이 작업은 모바일 디바이스가 관리 지점에 연결하지 못하도록 차단합니다.  

하트비트 검색 작업은 다음 위치에 기록됩니다.  

-   컴퓨터 클라이언트의 경우, 하트비트 검색 작업은 클라이언트의 *%Windir%\CCM\Logs* 폴더에 있는 **InventoryAgent.log** 파일에 기록됩니다.  

-   모바일 디바이스 클라이언트의 경우, 하트비트 검색 작업은 모바일 디바이스 클라이언트에서 사용하는 관리 지점의 *%Program Files%\CCM\Logs* 폴더에 있는 **DMPRP.log** 파일에 기록됩니다.  

이 검색 방법을 구성하는 방법에 대한 자세한 내용은 [검색 방법 구성](/sccm/core/servers/deploy/configure/configure-discovery-methods#BKMK_ConfigHBDisc)을 참조하세요.  



##  <a name="bkmk_aboutNetwork"></a> 네트워크 검색  
**구성 가능 여부:** 예  

**기본적으로 사용하도록 설정됨:** 아니요  

이 방법을 실행하는 데 사용할 수 있는 **계정**은 다음과 같습니다.  

-   사이트 서버의 **컴퓨터 계정**  

이 방법을 사용하여 네트워크의 토폴로지를 검색하고 네트워크에서 IP 주소가 있는 디바이스를 검색합니다. 네트워크 검색은 다음 엔터티를 쿼리하여 IP 사용 리소스에 대한 네트워크를 검색합니다. 
- DHCP의 Microsoft 구현을 실행하는 서버
- 네트워크 라우터의 ARP(주소 확인 프로토콜)
- SNMP 사용 디바이스
- Active Directory 도메인  

네트워크 검색을 사용하려면 실행할 검색의 *수준*을 지정해야 합니다. 또한 네트워크 검색에서 네트워크 세그먼트 또는 디바이스를 쿼리할 수 있도록 지원하는 검색 메커니즘을 하나 이상 구성해야 합니다. 네트워크상의 검색 작업을 제어할 수 있는 설정을 구성할 수도 있습니다. 끝으로, 네트워크 검색이 실행되는 일정을 하나 이상 정의합니다.  

이 방법의 경우 네트워크 검색에서 리소스를 성공적으로 검색하려면 리소스의 IP 주소 및 서브넷 마스크를 식별해야 합니다. 다음 방법을 사용하여 개체의 서브넷 마스크를 식별합니다.  

-   **라우터 ARP 캐시:** 네트워크 검색이 라우터의 ARP 캐시를 쿼리하여 서브넷 정보를 검색합니다. 일반적으로 라우터 ARP 캐시의 데이터는 유지 기간이 짧습니다. 따라서 네트워크 검색이 ARP 캐시를 검색할 때 ARP 캐시에 요청한 개체에 대한 정보가 더 이상 없을 수 있습니다.  

-   **DHCP:** 네트워크 검색이 지정된 각 DHCP 서버를 쿼리하여 DHCP 서버가 임대를 제공한 디바이스를 검색합니다. 네트워크 검색은 Microsoft DHCP를 실행하는 DHCP 서버만 지원합니다.  

-   **SNMP 디바이스:** 네트워크 검색이 SNMP 디바이스를 직접 쿼리할 수 있습니다. 네트워크 검색이 디바이스를 쿼리하려면 디바이스에 로컬 SNMP 에이전트가 설치되어 있어야 합니다. 또한 SNMP 에이전트에 사용하는 커뮤니티 이름을 네트워크 검색이 사용하도록 구성합니다.  

검색에서 IP 주소 지정 가능 개체를 식별하고 개체 서브넷 마스크를 확인할 수 있는 경우 해당 개체에 대한 DDR을 만듭니다. 다양한 유형의 디바이스가 네트워크에 연결하므로 구성 관리자 클라이언트를 지원하지 않는 리소스가 네트워크 검색을 통해 검색될 수도 있습니다. 검색 가능하지만 관리되지 않는 디바이스의 예로는 프린터와 라우터가 있습니다.  

네트워크 검색에서 생성하는 검색 레코드의 일부로 몇 가지 특성이 반환될 수 있으며 이러한 특성은 다음과 같습니다.  

-   NetBIOS 이름  

-   IP 주소  

-   리소스 도메인  

-   시스템 역할  

-   SNMP 커뮤니티 이름  

-   MAC 주소  

네트워크 검색 작업은 검색을 실행하는 사이트 서버에 있는 *&lt;InstallationPath\>\Logs*의 **Netdisc.log** 파일에 기록됩니다.  

 이 검색 방법을 구성하는 방법에 대한 자세한 내용은 [검색 방법 구성](/sccm/core/servers/deploy/configure/configure-discovery-methods#BKMK_ConfigNetworkDisc)을 참조하세요.  

> [!NOTE]  
>  복잡한 네트워크와 낮은 대역폭으로 구성된 연결로 인해 네트워크 검색의 실행 속도가 느려지고 상당한 네트워크 트래픽이 생성될 수도 있습니다. 네트워크 검색은 검색하려는 리소스를 다른 검색 방법으로는 찾을 수 없는 경우에만 실행하는 것이 좋습니다. 예를 들어 작업 그룹 컴퓨터를 검색해야 할 경우 네트워크 검색을 사용하십시오. 다른 검색 방법으로는 작업 그룹 컴퓨터를 검색할 수 없습니다.  

###  <a name="BKMK_NetDiscLevels"></a> 네트워크 검색 수준  
네트워크 검색을 구성할 경우 세 가지 검색 수준 중 하나를 지정해야 합니다.  

|검색 수준|세부 정보|  
|------------------------|-------------|  
|토폴로지|이 수준에서는 라우터와 서브넷을 검색하지만 개체의 서브넷 마스크는 식별하지 않습니다.|  
|토폴로지 및 클라이언트|이 수준에서는 토폴로지 외에 컴퓨터와 같은 잠재적 클라이언트와 프린터 및 라우터와 같은 리소스를 검색합니다. 이 검색 수준에서 개체를 찾을 경우 해당 개체의 서브넷 마스크를 확인하려고 합니다.|  
|토폴로지, 클라이언트 및 클라이언트 운영 체제|이 수준에서는 토폴로지 및 잠재적 클라이언트 외에 컴퓨터 운영 체제 이름 및 버전을 검색합니다. 이 수준에서는 Windows 브라우저와 Windows 네트워킹 호출을 사용합니다.|  

 네트워크 검색은 수준이 올라감에 따라 작업 및 네트워크 대역폭 사용량도 증가합니다. 네트워크 검색의 모든 기능을 사용하도록 설정하기 전에 예상되는 네트워크 트래픽을 고려하십시오.  

 예를 들어 네트워크 검색을 처음 사용할 때 토폴로지 수준만으로 시작하여 네트워크 인프라를 확인할 수도 있습니다. 그런 다음, 개체 및 해당 디바이스 운영 체제를 검색하도록 네트워크 검색을 다시 구성하면 됩니다. 네트워크 검색을 특정 네트워크 세그먼트 범위로 제한하는 설정을 구성할 수도 있습니다. 이런 방식으로 필요한 네트워크 위치에서 개체를 검색하면 불필요한 네트워크 트래픽을 방지할 수 있습니다. 이 프로세스 또한 에지 라우터 또는 네트워크 외부에서 개체를 검색할 수 있습니다.  

###  <a name="BKMK_NetDiscOptions"></a> 네트워크 검색 옵션  
네트워크 검색에서 IP 주소 지정 가능 디바이스를 검색하도록 설정하려면 다음 옵션 중 하나 이상을 구성합니다.  

> [!NOTE]  
>  네트워크 검색은 검색을 실행하는 사이트 서버의 컴퓨터 계정의 컨텍스트에서 실행됩니다. 이 컴퓨터 계정에 신뢰할 수 없는 도메인에 대한 권한이 없는 경우 도메인 및 DHCP 서버 구성 모두에서 리소스를 검색하지 못할 수도 있습니다.  

#### <a name="dhcp"></a>DHCP  

네트워크 검색에서 쿼리할 각 DHCP 서버를 지정합니다. 네트워크 검색은 Microsoft DHCP를 실행하는 DHCP 서버만 지원합니다.  

-   네트워크 검색은 DHCP 서버의 데이터베이스에 대한 원격 프로시저 호출을 사용하여 정보를 검색합니다.  

-   네트워크 검색은 32비트 및 64비트 DHCP 서버 모두에서 각 서버에 등록된 디바이스 목록을 쿼리할 수 있습니다.  

-   네트워크 검색에서 DHCP 서버를 성공적으로 쿼리하려면 검색을 실행하는 서버의 컴퓨터 계정은 DHCP 서버에서 DHCP 사용자 그룹의 구성원이어야 합니다. 예를 들어 다음 조건 중 하나에 해당하는 경우 이러한 액세스 수준을 볼 수 있습니다.  

    -   지정된 DHCP 서버가 검색을 실행하는 서버의 DHCP 서버입니다.  

    -   검색을 실행하는 컴퓨터와 DHCP 서버가 동일한 도메인 안에 있습니다.  

    -   검색을 실행하는 컴퓨터와 DHCP 서버 간에 양방향 트러스트가 존재합니다.  

    -   사이트 서버가 DHCP 사용자 그룹의 구성원입니다.  

-   네트워크 검색에서 DHCP 서버를 열거할 경우 항상 정적 IP 주소가 검색되는 것은 아닙니다. DHCP 서버에서 제외된 IP 주소 범위에 속한 IP 주소는 네트워크 검색으로 찾을 수 없습니다. 수동 할당을 위해 예약된 IP 주소도 검색할 수 없습니다.  

#### <a name="domains"></a>도메인  

네트워크 검색에서 쿼리할 각 도메인을 지정합니다.  

-   검색을 실행하는 사이트 서버의 컴퓨터 계정에는 각 지정된 도메인에서 도메인 컨트롤러를 읽을 수 있는 권한이 있어야 합니다.  

-   로컬 도메인에서 컴퓨터를 검색하려면 적어도 하나 이상의 컴퓨터에서 컴퓨터 브라우저 서비스를 사용하도록 설정해야 합니다. 이 컴퓨터는 네트워크 검색을 실행하는 사이트 서버와 동일한 서브넷에 있어야 합니다.  

-   네트워크 검색은 네트워크를 찾아볼 때 사이트 서버에서 볼 수 있는 모든 컴퓨터를 검색할 수 있습니다.  

-   네트워크 검색은 IP 주소를 검색합니다. 그 후 검색되는 각 디바이스에 대해 ICMP(Internet Control Message Protocol) 에코 요청을 사용하여 ping을 실행합니다. **ping** 명령을 사용하면 현재 활성 상태인 컴퓨터를 확인할 수 있습니다.  

#### <a name="snmp-devices"></a>SNMP 디바이스  

네트워크 검색에서 쿼리할 각 SNMP 디바이스를 지정합니다.  

-   네트워크 검색은 쿼리에 응답하는 모든 SNMP 디바이스에서 ipNetToMediaTable 값을 검색합니다. 이 값에서는 클라이언트 컴퓨터 또는 기타 리소스(예: 프린터, 라우터, 기타 IP 주소 지정 가능 디바이스)에 해당하는 IP 주소의 배열을 반환합니다.  

-   디바이스를 쿼리하려면 해당 디바이스의 IP 주소 또는 NetBIOS 이름을 지정해야 합니다.  

-   네트워크 검색에서 디바이스의 커뮤니티 이름을 사용하도록 구성해야 하며, 그렇지 않으면 디바이스는 SNMP 기반 쿼리를 거부합니다.  


###  <a name="BKMK_LimitNetDisc"></a> 네트워크 검색 제한  
네트워크 검색에서 네트워크 경계측에 있는 SNMP 디바이스를 쿼리할 경우 서브넷 관련 정보 및 현재 네트워크 외부에 있는 SNMP 디바이스에 관한 정보를 확인할 수 있습니다. 다음 정보를 사용하여 검색에서 통신할 수 있는 SNMP 디바이스를 구성하고 쿼리할 네트워크 세그먼트를 지정하면 네트워크 검색을 제한할 수 있습니다.  

#### <a name="subnets"></a>서브넷  

네트워크 검색이 SNMP 및 DHCP 옵션을 사용할 때 쿼리하는 서브넷을 구성합니다. 이러한 두 옵션에서는 사용하도록 설정된 서브넷만 검색합니다.  

예를 들어 DHCP 요청은 전체 네트워크 위치에서 디바이스를 반환할 수 있습니다. 특정 서브넷의 디바이스만 검색하려는 경우 **네트워크 검색 속성** 대화 상자의 **서브넷** 탭에서 해당 서브넷을 지정하고 사용하도록 설정합니다. 서브넷을 지정하고 사용하도록 설정하면 이후의 DHCP 및 SNMP 검색 작업이 이러한 서브넷으로 제한됩니다.  

> [!NOTE]  
>  서브넷 구성은 **도메인** 검색 옵션을 통해 검색되는 개체를 제한하지 않습니다.  

#### <a name="snmp-community-names"></a>SNMP 커뮤니티 이름  

네트워크 검색이 SNMP 디바이스를 성공적으로 쿼리할 수 있도록 하려면 해당 디바이스의 커뮤니티 이름을 사용하여 네트워크 검색을 구성합니다. 네트워크 검색이 SNMP 디바이스의 커뮤니티 이름을 사용하여 구성되지 않은 경우 디바이스가 쿼리를 거부합니다.  

#### <a name="maximum-hops"></a>최대 홉 수  

최대 라우터 홉 수를 구성하면 네트워크 검색이 SNMP를 사용하여 쿼리할 수 있는 네트워크 세그먼트와 라우터 수가 제한됩니다.  

구성하는 홉 수에 따라 네트워크 검색이 쿼리할 수 있는 추가 디바이스와 네트워크 세그먼트 수가 제한됩니다.  

예를 들어 **0**개의 라우터 홉을 지정하고 토폴로지만 검색하면 원본 서버가 있는 서브넷이 검색됩니다. 여기에는 해당 서브넷에 있는 모든 라우터가 포함됩니다.  

다음 다이어그램에서는 0개의 라우터 홉을 지정하고 서버 1에서 토폴로지만 포함한 네트워크 검색 쿼리를 실행할 때 서브넷 D와 라우터 1이 검색되는 것을 보여 줍니다.  

 ![0개의 라우터 점프가 있는 검색 이미지](media/Disc-0.gif)  

 다음 다이어그램에서는 0개의 라우터 홉을 지정하고 서버 1에서 토폴로지와 클라이언트를 포함한 네트워크 검색 쿼리를 실행할 때 서브넷 D와 라우터 1 및 서브넷 D에 있을 수 있는 모든 클라이언트가 검색되는 것을 보여 줍니다.  

 ![1개의 라우터 점프가 있는 검색 이미지](media/Disc-1.gif)  

 다음 네트워크를 살펴보면 라우터 홉이 추가됨에 따라 검색되는 네트워크 리소스 양이 어떻게 늘어나는지 잘 알 수 있습니다.  

 ![2개의 라우터 점프가 있는 검색 이미지](media/Disc-2.gif)  

 1개의 라우터 홉을 지정하고 서버 1에서 토폴로지만 포함한 네트워크 검색을 실행하면 다음 엔터티가 검색됩니다.  

-   라우터 1 및 서브넷 10.1.10.0(0개의 홉 지정 시 검색됨)  

-   서브넷 10.1.20.0 및 10.1.30.0, 서브넷 A 및 라우터 2(첫 번째 홉에서 검색됨)  

> [!WARNING]  
>  라우터 홉 수가 하나씩 늘어날 때마다 검색될 수 있는 리소스 수가 상당히 증가하며 네트워크 검색이 사용하는 네트워크 대역폭이 크게 증가할 수 있습니다.  



##  <a name="bkmk_aboutServer"></a> 서버 검색  
**구성 가능 여부:** 아니요  

사용자 구성 가능 검색 방법 이외에도 Configuration Manager에서는 **서버 검색**(SMS_WINNT_SERVER_DISCOVERY_AGENT)이라는 프로세스를 사용합니다. 이 검색 방법은 관리 지점으로 구성된 컴퓨터와 같이 사이트 시스템인 컴퓨터에 대한 리소스 레코드를 만듭니다.  



##  <a name="bkmk_shared"></a> Active Directory 그룹 검색, 시스템 검색 및 사용자 검색의 일반적인 기능  
이 섹션에서는 다음 검색 방법의 일반적인 기능에 대한 정보를 제공합니다.  

-   Active Directory 그룹 검색  

-   Active Directory 시스템 검색  

-   Active Directory 사용자 검색  

> [!NOTE]  
>  이 섹션의 정보는 Active Directory 포리스트 검색에 적용되지 않습니다.  

이 세 가지 검색 방법은 구성과 작업이 유사합니다. Active Directory Domain Services에 저장된 리소스의 컴퓨터, 사용자 및 그룹 멤버 자격 정보를 검색할 수 있습니다. 검색 프로세스는 검색 에이전트에서 관리합니다. 에이전트는 검색이 실행되도록 구성된 각 사이의 사이트 서버에서 실행됩니다. 이러한 로컬 포리스트 또는 원격 포리스트의 위치 인스턴스로 하나 이상의 Active Directory 위치를 검색하도록 각 검색 방법을 구성할 수 있습니다.  

검색을 통해 리소스에 대한 트러스트되지 않은 포리스트가 검색될 경우, 검색 에이전트가 성공적으로 실행되려면 다음을 확인할 수 있어야 합니다.  

-   Active Directory 시스템 검색을 사용하여 컴퓨터 리소스를 검색하려면 검색 에이전트가 리소스의 FQDN을 확인할 수 있어야 합니다. FQDN을 확인할 수 없는 경우 검색 에이전트는 NetBIOS 이름으로 리소스를 확인하려고 시도합니다.  

-   Active Directory 사용자 검색 또는 Active Directory 그룹 검색을 사용하여 사용자 또는 그룹 리소스를 검색하려면 검색 에이전트가 Active Directory 위치를 위해 지정한 도메인 컨트롤러 이름의 FQDN을 확인할 수 있어야 합니다.  

지정한 각 위치에 대해 위치 Active Directory 자식 컨테이너의 회귀적 검색을 사용하도록 설정하는 것 같은 개별 검색 옵션을 구성할 수 있습니다. 또한 해당 위치를 검색할 때 사용할 고유한 계정을 구성할 수 있어야 합니다. 이 계정은 한 사이트에서 여러 포리스트에 걸친 여러 Active Directory 위치를 검색하도록 검색 방법을 유연하게 구성할 수 있습니다. 단일 계정이 모든 위치에 대한 권한을 갖도록 구성할 필요가 없습니다.  

이러한 세 검색 방법이 각각 특정 사이트에서 실행되는 경우 해당 사이트의 Configuration Manager 사이트 서버는 지정된 Active Directory 포리스트에서 가장 가까운 도메인 컨트롤러에 연결하여 Active Directory 리소스를 찾습니다. 도메인 및 포리스트는 지원되는 어느 Active Directory 모드에나 있을 수 있습니다. 각 위치 인스턴스에 할당하는 계정에는 지정된 Active Directory 위치에 대한 **읽기** 권한이 있어야 합니다.

검색은 지정된 위치에서 개체를 찾은 다음 이러한 개체에 대한 정보를 수집합니다. 리소스에 대한 충분한 정보가 파악되면 DDR이 만들어집니다. 필요한 정보는 사용되는 검색 방법에 따라 달라집니다.  

서로 다른 Configuration Manager 사이트에서 동일한 검색 방법을 실행하여 로컬 Active Directory 서버 쿼리를 활용하도록 구성하는 경우 각 사이트에 고유한 검색 옵션 집합을 구성할 수 있습니다. 계층의 각 사이트에서 검색 데이터가 공유되므로 각 리소스를 한 번에 효율적으로 검색하려면 이러한 구성 간에 겹치지 않도록 해야 합니다.

소규모 환경의 경우 각 검색 방법을 계층의 한 사이트에서만 실행하는 것을 고려해 봅니다. 이 구성은 관리 부담을 줄이고 동일한 리소스를 여러 차례 다시 검색해야 하는 가능성을 줄입니다. 검색을 실행하는 사이트 수를 최소화하면 검색에서 사용하는 전체 네트워크 대역폭을 줄일 수 있습니다. 생성되어 사이트 서버에서 처리해야 할 DDR의 전체 수도 줄일 수 있습니다.  

대다수의 검색 방법 구성은 별도의 설명이 필요 없이 쉽게 이해할 수 있습니다. 다음 섹션에서는 구성 전에 추가 정보가 필요할 수 있는 검색 옵션에 대한 자세한 정보를 제공합니다.  

다음 옵션은 여러 Active Directory 검색 방법과 함께 사용할 수 있습니다.  

-   [델타 검색](#bkmk_delta)  

-   [도메인 로그온으로 오래된 컴퓨터 레코드 필터링](#bkmk_stalelogon)  

-   [컴퓨터 암호로 오래된 레코드 필터링](#bkmk_stalepassword)  

-   [사용자 지정된 Active Directory 특성 검색](#bkmk_customAD)  


###  <a name="bkmk_delta"></a> 델타 검색  
다음에 대해 사용할 수 있습니다.  

-   Active Directory 그룹 검색  

-   Active Directory 시스템 검색  

-   Active Directory 사용자 검색  

델타 검색은 독립적인 검색 방법이 아니라 해당하는 검색 방법에 대해 사용할 수 있는 옵션입니다. 델타 검색은 해당하는 검색 방법의 마지막 전체 검색 주기 이후에 수행된 변경 내용에 대한 특정 Active Directory 특성을 검색합니다. 특성 변경 내용이 Configuration Manager 데이터베이스에 제출되어 리소스의 검색 레코드가 업데이트됩니다.  

기본적으로 델타 검색은 5분 주기로 실행됩니다. 이 일정은 전체 검색 주기의 일반적인 일정보다 훨씬 자주 발생합니다. 이러한 빈번한 주기는 델타 검색이 전체 검색 주기보다 더 적은 사이트 서버와 네트워크 리소스를 사용하기 때문에 가능합니다. 델타 검색을 사용할 경우 해당 검색 방법에 대해 전체 검색 주기의 빈도를 줄일 수 있습니다.  

다음은 델타 검색에서 가장 일반적으로 검색되는 변경 내용입니다.  

-   Active Directory에 추가된 새 컴퓨터 또는 사용자  

-   기본 컴퓨터 및 사용자 정보 변경 내용  

-   그룹에 추가된 새 컴퓨터 또는 사용자  

-   그룹에서 제거된 컴퓨터 또는 사용자  

-   시스템 그룹 개체의 변경 내용  

델타 검색을 통해 새 리소스 및 그룹 멤버 자격 변경 내용을 검색할 수 있지만 리소스가 Active Directory에서 삭제된 시기는 검색하지 못합니다. 델타 검색이 만드는 DDR은 전체 검색 주기를 통해 만들어지는 DDR과 비슷하게 처리됩니다.  

델타 검색은 각 검색 방법에 대한 속성의 **폴링 일정** 탭에서 구성합니다.  


###  <a name="bkmk_stalelogon"></a> 도메인 로그온으로 오래된 컴퓨터 레코드 필터링  
다음에 대해 사용할 수 있습니다.  

-   Active Directory 그룹 검색  

-   Active Directory 시스템 검색  

오래된 컴퓨터 레코드가 있는 컴퓨터를 제외하도록 검색을 구성할 수 있습니다. 이 제외는 컴퓨터의 최신 도메인 로그온을 기반으로 합니다. 이 옵션을 사용하는 경우 Active Directory 시스템 검색이 식별되는 각 컴퓨터를 평가합니다. Active Directory 그룹 검색은 검색되는 그룹의 구성원인 각 컴퓨터를 평가합니다.  

이 옵션을 사용하려면  

-   컴퓨터는 Active Directory Domain Services에서 **lastLogonTimeStamp** 특성을 업데이트하도록 구성되어야 합니다.  

-   Active Directory 도메인 기능 수준이 Windows Server 2003 이상으로 설정되어야 합니다.  

이 설정에 사용하려는 마지막 로그온 후 시간을 구성할 때 도메인 컨트롤러 간의 복제 간격을 고려해야 합니다.  

필터링은 **Active Directory 시스템 검색 속성** 및 **Active Directory 그룹 검색 속성** 대화 상자의 **옵션** 탭에서 구성합니다. **지정한 기간 동안 도메인에 로그온한 컴퓨터만 검색**하도록 선택합니다.  

> [!WARNING]  
>  이 필터 및 **컴퓨터 암호로 오래된 레코드 필터**를 구성하는 경우 각 필터의 조건을 충족하는 컴퓨터는 검색에서 제외됩니다.  


###  <a name="bkmk_stalepassword"></a> 컴퓨터 암호로 오래된 레코드 필터링  
다음에 대해 사용할 수 있습니다.  

-   Active Directory 그룹 검색  

-   Active Directory 시스템 검색  

오래된 컴퓨터 레코드가 있는 컴퓨터를 제외하도록 검색을 구성할 수 있습니다. 이 예외는 컴퓨터의 최신 컴퓨터 계정 암호 업데이트를 기반으로 합니다. 이 옵션을 사용하는 경우 Active Directory 시스템 검색이 식별되는 각 컴퓨터를 평가합니다. Active Directory 그룹 검색은 검색되는 그룹의 구성원인 각 컴퓨터를 평가합니다.  

이 옵션을 사용하려면  

-   컴퓨터는 Active Directory Domain Service의 **pwdLastSet** 특성을 업데이트하도록 구성되어야 합니다.  

이 옵션을 구성하는 경우 이 특성에 대한 업데이트 간격을 고려해야 합니다. 도메인 컨트롤러 간의 복제 간격도 고려해야 합니다.  

필터링은 **Active Directory 시스템 검색 속성** 및 **Active Directory 그룹 검색 속성** 대화 상자의 **옵션** 탭에서 구성합니다. **지정한 기간 동안 컴퓨터 계정 암호를 업데이트한 컴퓨터만 검색**하도록 선택합니다.  

> [!WARNING]  
>  이 필터 및 **도메인 로그온으로 오래된 레코드 필터**를 구성하면 각 필터의 조건을 충족하는 컴퓨터는 검색에서 제외됩니다.  


###  <a name="bkmk_customAD"></a> 사용자 지정된 Active Directory 특성 검색  
 다음에 대해 사용할 수 있습니다.  

-   Active Directory 시스템 검색  

-   Active Directory 사용자 검색  

각 검색 방법은 검색할 수 있는 고유한 Active Directory 특성 목록을 지원합니다.  

사용자 지정 특성 목록은 **Active Directory 시스템 검색 속성** 및 **Active Directory 사용자 검색 속성** 대화 상자의 **Active Directory 특성** 탭에서 보고 구성할 수 있습니다.  
